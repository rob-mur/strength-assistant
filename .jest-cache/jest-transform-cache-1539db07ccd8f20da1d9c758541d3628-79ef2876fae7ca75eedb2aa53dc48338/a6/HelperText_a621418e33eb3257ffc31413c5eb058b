947d51f94bb703f3f69ef19461f8f318
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["style", "type", "visible", "theme", "onLayout", "padding", "disabled"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _utils = require("./utils");
var _theming = require("../../core/theming");
var _AnimatedText = _interopRequireDefault(require("../Typography/AnimatedText"));
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
function _interopRequireWildcard(e, t) {
  if ("function" == typeof WeakMap) var r = new WeakMap(),
    n = new WeakMap();
  return (_interopRequireWildcard = function _interopRequireWildcard(e, t) {
    if (!t && e && e.__esModule) return e;
    var o,
      i,
      f = {
        __proto__: null,
        default: e
      };
    if (null === e || "object" != typeof e && "function" != typeof e) return f;
    if (o = t ? n : r) {
      if (o.has(e)) return o.get(e);
      o.set(e, f);
    }
    for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]);
    return f;
  })(e, t);
}
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function (n) {
    for (var e = 1; e < arguments.length; e++) {
      var t = arguments[e];
      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);
    }
    return n;
  }, _extends.apply(null, arguments);
}
var HelperText = function HelperText(_ref) {
  var style = _ref.style,
    _ref$type = _ref.type,
    type = _ref$type === void 0 ? 'info' : _ref$type,
    _ref$visible = _ref.visible,
    visible = _ref$visible === void 0 ? true : _ref$visible,
    themeOverrides = _ref.theme,
    onLayout = _ref.onLayout,
    _ref$padding = _ref.padding,
    padding = _ref$padding === void 0 ? 'normal' : _ref$padding,
    disabled = _ref.disabled,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var theme = (0, _theming.useInternalTheme)(themeOverrides);
  var _React$useRef = React.useRef(new _reactNative.Animated.Value(visible ? 1 : 0)),
    shown = _React$useRef.current;
  var _React$useRef2 = React.useRef(0),
    textHeight = _React$useRef2.current;
  var scale = theme.animation.scale;
  var _rest$maxFontSizeMult = rest.maxFontSizeMultiplier,
    maxFontSizeMultiplier = _rest$maxFontSizeMult === void 0 ? 1.5 : _rest$maxFontSizeMult;
  React.useEffect(function () {
    if (visible) {
      _reactNative.Animated.timing(shown, {
        toValue: 1,
        duration: 150 * scale,
        useNativeDriver: true
      }).start();
    } else {
      _reactNative.Animated.timing(shown, {
        toValue: 0,
        duration: 180 * scale,
        useNativeDriver: true
      }).start();
    }
  }, [visible, scale, shown]);
  var handleTextLayout = function handleTextLayout(e) {
    onLayout === null || onLayout === void 0 || onLayout(e);
    textHeight = e.nativeEvent.layout.height;
  };
  var textColor = (0, _utils.getTextColor)({
    theme: theme,
    disabled: disabled,
    type: type
  });
  return React.createElement(_AnimatedText.default, _extends({
    onLayout: handleTextLayout,
    style: [styles.text, padding !== 'none' ? styles.padding : {}, {
      color: textColor,
      opacity: shown,
      transform: visible && type === 'error' ? [{
        translateY: shown.interpolate({
          inputRange: [0, 1],
          outputRange: [-textHeight / 2, 0]
        })
      }] : []
    }, style],
    maxFontSizeMultiplier: maxFontSizeMultiplier
  }, rest), rest.children);
};
var styles = _reactNative.StyleSheet.create({
  text: {
    fontSize: 12,
    paddingVertical: 4
  },
  padding: {
    paddingHorizontal: 12
  }
});
var _default = exports.default = HelperText;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl91dGlscyIsIl90aGVtaW5nIiwiX0FuaW1hdGVkVGV4dCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiaGFzIiwiZ2V0Iiwic2V0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImJpbmQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIkhlbHBlclRleHQiLCJfcmVmIiwic3R5bGUiLCJfcmVmJHR5cGUiLCJ0eXBlIiwiX3JlZiR2aXNpYmxlIiwidmlzaWJsZSIsInRoZW1lT3ZlcnJpZGVzIiwidGhlbWUiLCJvbkxheW91dCIsIl9yZWYkcGFkZGluZyIsInBhZGRpbmciLCJkaXNhYmxlZCIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2V4Y2x1ZGVkIiwidXNlSW50ZXJuYWxUaGVtZSIsIl9SZWFjdCR1c2VSZWYiLCJ1c2VSZWYiLCJBbmltYXRlZCIsIlZhbHVlIiwic2hvd24iLCJjdXJyZW50IiwiX1JlYWN0JHVzZVJlZjIiLCJ0ZXh0SGVpZ2h0Iiwic2NhbGUiLCJhbmltYXRpb24iLCJfcmVzdCRtYXhGb250U2l6ZU11bHQiLCJtYXhGb250U2l6ZU11bHRpcGxpZXIiLCJ1c2VFZmZlY3QiLCJ0aW1pbmciLCJ0b1ZhbHVlIiwiZHVyYXRpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJzdGFydCIsImhhbmRsZVRleHRMYXlvdXQiLCJuYXRpdmVFdmVudCIsImxheW91dCIsImhlaWdodCIsInRleHRDb2xvciIsImdldFRleHRDb2xvciIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZXMiLCJ0ZXh0IiwiY29sb3IiLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwidHJhbnNsYXRlWSIsImludGVycG9sYXRlIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwiY2hpbGRyZW4iLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiZm9udFNpemUiLCJwYWRkaW5nVmVydGljYWwiLCJwYWRkaW5nSG9yaXpvbnRhbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0hlbHBlclRleHQvSGVscGVyVGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOltudWxsXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQVFBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUVBLElBQUFJLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUwsT0FBQTtBQUFzRCxTQUFBSyx1QkFBQUMsQ0FBQTtFQUFBLE9BQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUE7SUFBQUUsT0FBQSxFQUFBRjtFQUFBO0FBQUE7QUFBQSxTQUFBUCx3QkFBQU8sQ0FBQSxFQUFBRyxDQUFBO0VBQUEseUJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBO0lBQUFFLENBQUEsT0FBQUYsT0FBQTtFQUFBLFFBQUFYLHVCQUFBLFlBQUFBLHdCQUFBTyxDQUFBLEVBQUFHLENBQUE7SUFBQSxLQUFBQSxDQUFBLElBQUFILENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLFNBQUFELENBQUE7SUFBQSxJQUFBTyxDQUFBO01BQUFDLENBQUE7TUFBQUMsQ0FBQTtRQUFBQyxTQUFBO1FBQUFSLE9BQUEsRUFBQUY7TUFBQTtJQUFBLGFBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsU0FBQVMsQ0FBQTtJQUFB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