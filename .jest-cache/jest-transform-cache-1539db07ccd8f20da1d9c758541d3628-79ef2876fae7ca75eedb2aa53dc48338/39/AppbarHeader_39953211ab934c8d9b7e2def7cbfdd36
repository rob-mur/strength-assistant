b2f3db5bfd56023454511f7a0fe21c2a
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault2(require("@babel/runtime/helpers/objectWithoutProperties"));
var _excluded = ["statusBarHeight", "style", "dark", "mode", "elevated", "theme", "testID"],
  _excluded2 = ["height", "elevation", "backgroundColor", "zIndex"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AppbarHeader = void 0;
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeSafeAreaContext = require("react-native-safe-area-context");
var _Appbar = require("./Appbar");
var _utils = require("./utils");
var _theming = require("../../core/theming");
var _shadow = _interopRequireDefault(require("../../styles/shadow"));
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
function _interopRequireWildcard(e, t) {
  if ("function" == typeof WeakMap) var r = new WeakMap(),
    n = new WeakMap();
  return (_interopRequireWildcard = function _interopRequireWildcard(e, t) {
    if (!t && e && e.__esModule) return e;
    var o,
      i,
      f = {
        __proto__: null,
        default: e
      };
    if (null === e || "object" != typeof e && "function" != typeof e) return f;
    if (o = t ? n : r) {
      if (o.has(e)) return o.get(e);
      o.set(e, f);
    }
    for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]);
    return f;
  })(e, t);
}
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function (n) {
    for (var e = 1; e < arguments.length; e++) {
      var t = arguments[e];
      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);
    }
    return n;
  }, _extends.apply(null, arguments);
}
var AppbarHeader = function AppbarHeader(_ref) {
  var statusBarHeight = _ref.statusBarHeight,
    style = _ref.style,
    dark = _ref.dark,
    _ref$mode = _ref.mode,
    mode = _ref$mode === void 0 ? _reactNative.Platform.OS === 'ios' ? 'center-aligned' : 'small' : _ref$mode,
    _ref$elevated = _ref.elevated,
    elevated = _ref$elevated === void 0 ? false : _ref$elevated,
    themeOverrides = _ref.theme,
    _ref$testID = _ref.testID,
    testID = _ref$testID === void 0 ? 'appbar-header' : _ref$testID,
    rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var theme = (0, _theming.useInternalTheme)(themeOverrides);
  var isV3 = theme.isV3;
  var flattenedStyle = _reactNative.StyleSheet.flatten(style);
  var _ref2 = flattenedStyle || {},
    _ref2$height = _ref2.height,
    height = _ref2$height === void 0 ? isV3 ? _utils.modeAppbarHeight[mode] : _utils.DEFAULT_APPBAR_HEIGHT : _ref2$height,
    _ref2$elevation = _ref2.elevation,
    elevation = _ref2$elevation === void 0 ? isV3 ? elevated ? 2 : 0 : 4 : _ref2$elevation,
    customBackground = _ref2.backgroundColor,
    _ref2$zIndex = _ref2.zIndex,
    zIndex = _ref2$zIndex === void 0 ? isV3 && elevated ? 1 : 0 : _ref2$zIndex,
    restStyle = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);
  var borderRadius = (0, _utils.getAppbarBorders)(restStyle);
  var backgroundColor = (0, _utils.getAppbarBackgroundColor)(theme, elevation, customBackground, elevated);
  var _ref3 = (0, _reactNativeSafeAreaContext.useSafeAreaInsets)(),
    top = _ref3.top,
    left = _ref3.left,
    right = _ref3.right;
  return React.createElement(_reactNative.View, {
    testID: `${testID}-root-layer`,
    style: [{
      backgroundColor: backgroundColor,
      zIndex: zIndex,
      elevation: elevation,
      paddingTop: statusBarHeight != null ? statusBarHeight : top,
      paddingHorizontal: Math.max(left, right)
    }, borderRadius, (0, _shadow.default)(elevation)]
  }, React.createElement(_Appbar.Appbar, _extends({
    testID: testID,
    style: [{
      height: height,
      backgroundColor: backgroundColor
    }, styles.appbar, restStyle],
    dark: dark
  }, isV3 && {
    mode: mode
  }, rest, {
    theme: theme
  })));
};
exports.AppbarHeader = AppbarHeader;
AppbarHeader.displayName = 'Appbar.Header';
var styles = _reactNative.StyleSheet.create({
  appbar: {
    elevation: 0
  }
});
var _default = exports.default = AppbarHeader;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZVNhZmVBcmVhQ29udGV4dCIsIl9BcHBiYXIiLCJfdXRpbHMiLCJfdGhlbWluZyIsIl9zaGFkb3ciLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidCIsIldlYWtNYXAiLCJyIiwibiIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImhhcyIsImdldCIsInNldCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJiaW5kIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJBcHBiYXJIZWFkZXIiLCJfcmVmIiwic3RhdHVzQmFySGVpZ2h0Iiwic3R5bGUiLCJkYXJrIiwiX3JlZiRtb2RlIiwibW9kZSIsIlBsYXRmb3JtIiwiT1MiLCJfcmVmJGVsZXZhdGVkIiwiZWxldmF0ZWQiLCJ0aGVtZU92ZXJyaWRlcyIsInRoZW1lIiwiX3JlZiR0ZXN0SUQiLCJ0ZXN0SUQiLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9leGNsdWRlZCIsInVzZUludGVybmFsVGhlbWUiLCJpc1YzIiwiZmxhdHRlbmVkU3R5bGUiLCJTdHlsZVNoZWV0IiwiZmxhdHRlbiIsIl9yZWYyIiwiX3JlZjIkaGVpZ2h0IiwiaGVpZ2h0IiwibW9kZUFwcGJhckhlaWdodCIsIkRFRkFVTFRfQVBQQkFSX0hFSUdIVCIsIl9yZWYyJGVsZXZhdGlvbiIsImVsZXZhdGlvbiIsImN1c3RvbUJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJfcmVmMiR6SW5kZXgiLCJ6SW5kZXgiLCJyZXN0U3R5bGUiLCJfZXhjbHVkZWQyIiwiYm9yZGVyUmFkaXVzIiwiZ2V0QXBwYmFyQm9yZGVycyIsImdldEFwcGJhckJhY2tncm91bmRDb2xvciIsIl9yZWYzIiwidXNlU2FmZUFyZWFJbnNldHMiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJjcmVhdGVFbGVtZW50IiwiVmlldyIsInBhZGRpbmdUb3AiLCJwYWRkaW5nSG9yaXpvbnRhbCIsIk1hdGgiLCJtYXgiLCJBcHBiYXIiLCJzdHlsZXMiLCJhcHBiYXIiLCJleHBvcnRzIiwiZGlzcGxheU5hbWUiLCJjcmVhdGUiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FwcGJhci9BcHBiYXJIZWFkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBVUEsSUFBQUUsMkJBQUEsR0FBQUYsT0FBQTtBQUVBLElBQUFHLE9BQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE1BQUEsR0FBQUosT0FBQTtBQU1BLElBQUFLLFFBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQVAsT0FBQTtBQUF5QyxTQUFBTyx1QkFBQUMsQ0FBQTtFQUFBLE9BQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUE7SUFBQUUsT0FBQSxFQUFBRjtFQUFBO0FBQUE7QUFBQSxTQUFBVCx3QkFBQVMsQ0FBQSxFQUFBRyxDQUFBO0VBQUEseUJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBO0lBQUFFLENBQUEsT0FBQUYsT0FBQTtFQUFBLFFBQUFiLHVCQUFBLFlBQUFBLHdCQUFBUyxDQUFBLEVBQUFHLENBQUE7SUFBQSxLQUFBQSxDQUFBLElBQUFILENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLFNBQUFELENBQUE7SUFBQSxJQUFBTyxDQUFBO01BQUFDLENBQUE7TUFBQUMsQ0FBQTtRQUFBQyxTQUFBO1FBQUFS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