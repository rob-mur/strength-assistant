07cf489b524d1925090770262a80e165
var _logger = require("@/lib/data/supabase/supabase/logger");
var mockConsoleLog = jest.spyOn(console, 'log').mockImplementation();
var mockConsoleWarn = jest.spyOn(console, 'warn').mockImplementation();
var mockConsoleError = jest.spyOn(console, 'error').mockImplementation();
describe("Logger", function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  afterAll(function () {
    mockConsoleLog.mockRestore();
    mockConsoleWarn.mockRestore();
    mockConsoleError.mockRestore();
  });
  test("creates logger with service name", function () {
    var logger = new _logger.Logger("TestService");
    expect(logger).toBeInstanceOf(_logger.Logger);
  });
  test("logs info messages with service prefix", function () {
    var logger = new _logger.Logger("TestService");
    var message = "Test info message";
    logger.info(message);
    expect(mockConsoleLog).toHaveBeenCalledWith("[TestService] Test info message", undefined);
  });
  test("logs info messages with context", function () {
    var logger = new _logger.Logger("TestService");
    var message = "Test info message";
    var context = {
      operation: "test",
      duration: 123
    };
    logger.info(message, context);
    expect(mockConsoleLog).toHaveBeenCalledWith("[TestService] Test info message", context);
  });
  test("logs warning messages", function () {
    var logger = new _logger.Logger("TestService");
    var message = "Test warning message";
    var context = {
      operation: "test"
    };
    logger.warn(message, context);
    expect(mockConsoleWarn).toHaveBeenCalledWith("[TestService] Test warning message", context);
  });
  test("logs error messages", function () {
    var logger = new _logger.Logger("TestService");
    var message = "Test error message";
    var context = {
      error: {
        message: "Something went wrong",
        code: "ERR_TEST"
      }
    };
    logger.error(message, context);
    expect(mockConsoleError).toHaveBeenCalledWith("[TestService] Test error message", context);
  });
  test("handles undefined context gracefully", function () {
    var logger = new _logger.Logger("TestService");
    logger.info("Info without context");
    logger.warn("Warning without context");
    logger.error("Error without context");
    expect(mockConsoleLog).toHaveBeenCalledWith("[TestService] Info without context", undefined);
    expect(mockConsoleWarn).toHaveBeenCalledWith("[TestService] Warning without context", undefined);
    expect(mockConsoleError).toHaveBeenCalledWith("[TestService] Error without context", undefined);
  });
  test("formats different service names correctly", function () {
    var webLogger = new _logger.Logger("SupabaseWebService");
    var nativeLogger = new _logger.Logger("SupabaseNativeService");
    webLogger.info("Web message");
    nativeLogger.info("Native message");
    expect(mockConsoleLog).toHaveBeenCalledWith("[SupabaseWebService] Web message", undefined);
    expect(mockConsoleLog).toHaveBeenCalledWith("[SupabaseNativeService] Native message", undefined);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nZ2VyIiwicmVxdWlyZSIsIm1vY2tDb25zb2xlTG9nIiwiamVzdCIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm1vY2tDb25zb2xlV2FybiIsIm1vY2tDb25zb2xlRXJyb3IiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiYWZ0ZXJBbGwiLCJtb2NrUmVzdG9yZSIsInRlc3QiLCJsb2dnZXIiLCJMb2dnZXIiLCJleHBlY3QiLCJ0b0JlSW5zdGFuY2VPZiIsIm1lc3NhZ2UiLCJpbmZvIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ1bmRlZmluZWQiLCJjb250ZXh0Iiwib3BlcmF0aW9uIiwiZHVyYXRpb24iLCJ3YXJuIiwiZXJyb3IiLCJjb2RlIiwid2ViTG9nZ2VyIiwibmF0aXZlTG9nZ2VyIl0sInNvdXJjZXMiOlsibG9nZ2VyLXRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkAvbGliL2RhdGEvc3VwYWJhc2Uvc3VwYWJhc2UvbG9nZ2VyXCI7XG5cbi8vIE1vY2sgY29uc29sZSBtZXRob2RzXG5jb25zdCBtb2NrQ29uc29sZUxvZyA9IGplc3Quc3B5T24oY29uc29sZSwgJ2xvZycpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuY29uc3QgbW9ja0NvbnNvbGVXYXJuID0gamVzdC5zcHlPbihjb25zb2xlLCAnd2FybicpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuY29uc3QgbW9ja0NvbnNvbGVFcnJvciA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbmRlc2NyaWJlKFwiTG9nZ2VyXCIsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKCgpID0+IHtcbiAgICBtb2NrQ29uc29sZUxvZy5tb2NrUmVzdG9yZSgpO1xuICAgIG1vY2tDb25zb2xlV2Fybi5tb2NrUmVzdG9yZSgpO1xuICAgIG1vY2tDb25zb2xlRXJyb3IubW9ja1Jlc3RvcmUoKTtcbiAgfSk7XG5cbiAgdGVzdChcImNyZWF0ZXMgbG9nZ2VyIHdpdGggc2VydmljZSBuYW1lXCIsICgpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiVGVzdFNlcnZpY2VcIik7XG4gICAgZXhwZWN0KGxvZ2dlcikudG9CZUluc3RhbmNlT2YoTG9nZ2VyKTtcbiAgfSk7XG5cbiAgdGVzdChcImxvZ3MgaW5mbyBtZXNzYWdlcyB3aXRoIHNlcnZpY2UgcHJlZml4XCIsICgpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiVGVzdFNlcnZpY2VcIik7XG4gICAgY29uc3QgbWVzc2FnZSA9IFwiVGVzdCBpbmZvIG1lc3NhZ2VcIjtcbiAgICBcbiAgICBsb2dnZXIuaW5mbyhtZXNzYWdlKTtcbiAgICBcbiAgICBleHBlY3QobW9ja0NvbnNvbGVMb2cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgXCJbVGVzdFNlcnZpY2VdIFRlc3QgaW5mbyBtZXNzYWdlXCIsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9KTtcblxuICB0ZXN0KFwibG9ncyBpbmZvIG1lc3NhZ2VzIHdpdGggY29udGV4dFwiLCAoKSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlRlc3RTZXJ2aWNlXCIpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBcIlRlc3QgaW5mbyBtZXNzYWdlXCI7XG4gICAgY29uc3QgY29udGV4dCA9IHsgb3BlcmF0aW9uOiBcInRlc3RcIiwgZHVyYXRpb246IDEyMyB9O1xuICAgIFxuICAgIGxvZ2dlci5pbmZvKG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgIFxuICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltUZXN0U2VydmljZV0gVGVzdCBpbmZvIG1lc3NhZ2VcIixcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9KTtcblxuICB0ZXN0KFwibG9ncyB3YXJuaW5nIG1lc3NhZ2VzXCIsICgpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKFwiVGVzdFNlcnZpY2VcIik7XG4gICAgY29uc3QgbWVzc2FnZSA9IFwiVGVzdCB3YXJuaW5nIG1lc3NhZ2VcIjtcbiAgICBjb25zdCBjb250ZXh0ID0geyBvcGVyYXRpb246IFwidGVzdFwiIH07XG4gICAgXG4gICAgbG9nZ2VyLndhcm4obWVzc2FnZSwgY29udGV4dCk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tDb25zb2xlV2FybikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltUZXN0U2VydmljZV0gVGVzdCB3YXJuaW5nIG1lc3NhZ2VcIixcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9KTtcblxuICB0ZXN0KFwibG9ncyBlcnJvciBtZXNzYWdlc1wiLCAoKSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihcIlRlc3RTZXJ2aWNlXCIpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBcIlRlc3QgZXJyb3IgbWVzc2FnZVwiO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7IFxuICAgICAgZXJyb3I6IHsgXG4gICAgICAgIG1lc3NhZ2U6IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIiwgXG4gICAgICAgIGNvZGU6IFwiRVJSX1RFU1RcIiBcbiAgICAgIH0gXG4gICAgfTtcbiAgICBcbiAgICBsb2dnZXIuZXJyb3IobWVzc2FnZSwgY29udGV4dCk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tDb25zb2xlRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgXCJbVGVzdFNlcnZpY2VdIFRlc3QgZXJyb3IgbWVzc2FnZVwiLFxuICAgICAgY29udGV4dFxuICAgICk7XG4gIH0pO1xuXG4gIHRlc3QoXCJoYW5kbGVzIHVuZGVmaW5lZCBjb250ZXh0IGdyYWNlZnVsbHlcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoXCJUZXN0U2VydmljZVwiKTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbyhcIkluZm8gd2l0aG91dCBjb250ZXh0XCIpO1xuICAgIGxvZ2dlci53YXJuKFwiV2FybmluZyB3aXRob3V0IGNvbnRleHRcIik7XG4gICAgbG9nZ2VyLmVycm9yKFwiRXJyb3Igd2l0aG91dCBjb250ZXh0XCIpO1xuICAgIFxuICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltUZXN0U2VydmljZV0gSW5mbyB3aXRob3V0IGNvbnRleHRcIixcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gICAgZXhwZWN0KG1vY2tDb25zb2xlV2FybikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltUZXN0U2VydmljZV0gV2FybmluZyB3aXRob3V0IGNvbnRleHRcIixcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gICAgZXhwZWN0KG1vY2tDb25zb2xlRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgXCJbVGVzdFNlcnZpY2VdIEVycm9yIHdpdGhvdXQgY29udGV4dFwiLFxuICAgICAgdW5kZWZpbmVkXG4gICAgKTtcbiAgfSk7XG5cbiAgdGVzdChcImZvcm1hdHMgZGlmZmVyZW50IHNlcnZpY2UgbmFtZXMgY29ycmVjdGx5XCIsICgpID0+IHtcbiAgICBjb25zdCB3ZWJMb2dnZXIgPSBuZXcgTG9nZ2VyKFwiU3VwYWJhc2VXZWJTZXJ2aWNlXCIpO1xuICAgIGNvbnN0IG5hdGl2ZUxvZ2dlciA9IG5ldyBMb2dnZXIoXCJTdXBhYmFzZU5hdGl2ZVNlcnZpY2VcIik7XG4gICAgXG4gICAgd2ViTG9nZ2VyLmluZm8oXCJXZWIgbWVzc2FnZVwiKTtcbiAgICBuYXRpdmVMb2dnZXIuaW5mbyhcIk5hdGl2ZSBtZXNzYWdlXCIpO1xuICAgIFxuICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltTdXBhYmFzZVdlYlNlcnZpY2VdIFdlYiBtZXNzYWdlXCIsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICAgIGV4cGVjdChtb2NrQ29uc29sZUxvZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBcIltTdXBhYmFzZU5hdGl2ZVNlcnZpY2VdIE5hdGl2ZSBtZXNzYWdlXCIsXG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBR0EsSUFBTUMsY0FBYyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3RFLElBQU1DLGVBQWUsR0FBR0osSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztBQUN4RSxJQUFNRSxnQkFBZ0IsR0FBR0wsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztBQUUxRUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxZQUFNO0VBQ3ZCQyxVQUFVLENBQUMsWUFBTTtJQUNmUCxJQUFJLENBQUNRLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGQyxRQUFRLENBQUMsWUFBTTtJQUNiVixjQUFjLENBQUNXLFdBQVcsQ0FBQyxDQUFDO0lBQzVCTixlQUFlLENBQUNNLFdBQVcsQ0FBQyxDQUFDO0lBQzdCTCxnQkFBZ0IsQ0FBQ0ssV0FBVyxDQUFDLENBQUM7RUFDaEMsQ0FBQyxDQUFDO0VBRUZDLElBQUksQ0FBQyxrQ0FBa0MsRUFBRSxZQUFNO0lBQzdDLElBQU1DLE1BQU0sR0FBRyxJQUFJQyxjQUFNLENBQUMsYUFBYSxDQUFDO0lBQ3hDQyxNQUFNLENBQUNGLE1BQU0sQ0FBQyxDQUFDRyxjQUFjLENBQUNGLGNBQU0sQ0FBQztFQUN2QyxDQUFDLENBQUM7RUFFRkYsSUFBSSxDQUFDLHdDQUF3QyxFQUFFLFlBQU07SUFDbkQsSUFBTUMsTUFBTSxHQUFHLElBQUlDLGNBQU0sQ0FBQyxhQUFhLENBQUM7SUFDeEMsSUFBTUcsT0FBTyxHQUFHLG1CQUFtQjtJQUVuQ0osTUFBTSxDQUFDSyxJQUFJLENBQUNELE9BQU8sQ0FBQztJQUVwQkYsTUFBTSxDQUFDZixjQUFjLENBQUMsQ0FBQ21CLG9CQUFvQixDQUN6QyxpQ0FBaUMsRUFDakNDLFNBQ0YsQ0FBQztFQUNILENBQUMsQ0FBQztFQUVGUixJQUFJLENBQUMsaUNBQWlDLEVBQUUsWUFBTTtJQUM1QyxJQUFNQyxNQUFNLEdBQUcsSUFBSUMsY0FBTSxDQUFDLGFBQWEsQ0FBQztJQUN4QyxJQUFNRyxPQUFPLEdBQUcsbUJBQW1CO0lBQ25DLElBQU1JLE9BQU8sR0FBRztNQUFFQyxTQUFTLEVBQUUsTUFBTTtNQUFFQyxRQUFRLEVBQUU7SUFBSSxDQUFDO0lBRXBEVixNQUFNLENBQUNLLElBQUksQ0FBQ0QsT0FBTyxFQUFFSSxPQUFPLENBQUM7SUFFN0JOLE1BQU0sQ0FBQ2YsY0FBYyxDQUFDLENBQUNtQixvQkFBb0IsQ0FDekMsaUNBQWlDLEVBQ2pDRSxPQUNGLENBQUM7RUFDSCxDQUFDLENBQUM7RUFFRlQsSUFBSSxDQUFDLHVCQUF1QixFQUFFLFlBQU07SUFDbEMsSUFBTUMsTUFBTSxHQUFHLElBQUlDLGNBQU0sQ0FBQyxhQUFhLENBQUM7SUFDeEMsSUFBTUcsT0FBTyxHQUFHLHNCQUFzQjtJQUN0QyxJQUFNSSxPQUFPLEdBQUc7TUFBRUMsU0FBUyxFQUFFO0lBQU8sQ0FBQztJQUVyQ1QsTUFBTSxDQUFDVyxJQUFJLENBQUNQLE9BQU8sRUFBRUksT0FBTyxDQUFDO0lBRTdCTixNQUFNLENBQUNWLGVBQWUsQ0FBQyxDQUFDYyxvQkFBb0IsQ0FDMUMsb0NBQW9DLEVBQ3BDRSxPQUNGLENBQUM7RUFDSCxDQUFDLENBQUM7RUFFRlQsSUFBSSxDQUFDLHFCQUFxQixFQUFFLFlBQU07SUFDaEMsSUFBTUMsTUFBTSxHQUFHLElBQUlDLGNBQU0sQ0FBQyxhQUFhLENBQUM7SUFDeEMsSUFBTUcsT0FBTyxHQUFHLG9CQUFvQjtJQUNwQyxJQUFNSSxPQUFPLEdBQUc7TUFDZEksS0FBSyxFQUFFO1FBQ0xSLE9BQU8sRUFBRSxzQkFBc0I7UUFDL0JTLElBQUksRUFBRTtNQUNSO0lBQ0YsQ0FBQztJQUVEYixNQUFNLENBQUNZLEtBQUssQ0FBQ1IsT0FBTyxFQUFFSSxPQUFPLENBQUM7SUFFOUJOLE1BQU0sQ0FBQ1QsZ0JBQWdCLENBQUMsQ0FBQ2Esb0JBQW9CLENBQzNDLGtDQUFrQyxFQUNsQ0UsT0FDRixDQUFDO0VBQ0gsQ0FBQyxDQUFDO0VBRUZULElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxZQUFNO0lBQ2pELElBQU1DLE1BQU0sR0FBRyxJQUFJQyxjQUFNLENBQUMsYUFBYSxDQUFDO0lBRXhDRCxNQUFNLENBQUNLLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztJQUNuQ0wsTUFBTSxDQUFDVyxJQUFJLENBQUMseUJBQXlCLENBQUM7SUFDdENYLE1BQU0sQ0FBQ1ksS0FBSyxDQUFDLHVCQUF1QixDQUFDO0lBRXJDVixNQUFNLENBQUNmLGNBQWMsQ0FBQyxDQUFDbUIsb0JBQW9CLENBQ3pDLG9DQUFvQyxFQUNwQ0MsU0FDRixDQUFDO0lBQ0RMLE1BQU0sQ0FBQ1YsZUFBZSxDQUFDLENBQUNjLG9CQUFvQixDQUMxQyx1Q0FBdUMsRUFDdkNDLFNBQ0YsQ0FBQztJQUNETCxNQUFNLENBQUNULGdCQUFnQixDQUFDLENBQUNhLG9CQUFvQixDQUMzQyxxQ0FBcUMsRUFDckNDLFNBQ0YsQ0FBQztFQUNILENBQUMsQ0FBQztFQUVGUixJQUFJLENBQUMsMkNBQTJDLEVBQUUsWUFBTTtJQUN0RCxJQUFNZSxTQUFTLEdBQUcsSUFBSWIsY0FBTSxDQUFDLG9CQUFvQixDQUFDO0lBQ2xELElBQU1jLFlBQVksR0FBRyxJQUFJZCxjQUFNLENBQUMsdUJBQXVCLENBQUM7SUFFeERhLFNBQVMsQ0FBQ1QsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM3QlUsWUFBWSxDQUFDVixJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFFbkNILE1BQU0sQ0FBQ2YsY0FBYyxDQUFDLENBQUNtQixvQkFBb0IsQ0FDekMsa0NBQWtDLEVBQ2xDQyxTQUNGLENBQUM7SUFDREwsTUFBTSxDQUFDZixjQUFjLENBQUMsQ0FBQ21CLG9CQUFvQixDQUN6Qyx3Q0FBd0MsRUFDeENDLFNBQ0YsQ0FBQztFQUNILENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==