{"version":3,"names":["_react","require","_reactNative","AuthWeb","_interopRequireWildcard","AuthNative","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","getAuthFunctions","Platform","OS","useAuth","_useState","useState","user","loading","error","_useState2","_slicedToArray2","authState","setAuthState","handleUserStateChange","userData","uid","email","isAnonymous","setErrorState","initializeAuthWithTimeout","_ref","_asyncToGenerator2","authFunctions","initPromise","Promise","resolve","reject","initAuth","timeoutPromise","_","setTimeout","Error","race","_x","apply","arguments","setupAuthListener","userStateHandler","onAuthStateChangedWeb","onAuthStateChangedNative","initializeAuth","_ref2","undefined","useEffect","process","env","CHROME_TEST","CI","unsubscribe","timeoutId","then","authUnsubscribe","catch","clearTimeout","console","signInAnonymously","_ref3","NODE_ENV","prev","assign","signInFunction","signInAnonymouslyWeb","signInAnonymouslyNative","code","message","createAccount","_ref4","password","createFunction","createAccountWeb","createAccountNative","_x2","_x3","signIn","_ref5","signInWeb","signInNative","_x4","_x5","signOut","_ref6","signOutFunction","signOutWeb","signOutNative","clearError"],"sources":["useAuth.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Platform } from \"react-native\";\n\n// Platform-specific imports - use static imports to avoid Metro symbolication issues\nimport * as AuthWeb from \"../data/firebase/auth.web\";\nimport * as AuthNative from \"../data/firebase/auth.native\";\n\n// Types for cross-platform user\nexport interface AuthUser {\n\tuid: string;\n\temail: string | null;\n\tisAnonymous: boolean;\n}\n\nexport interface AuthError {\n\tcode: string;\n\tmessage: string;\n}\n\nexport interface AuthState {\n\tuser: AuthUser | null;\n\tloading: boolean;\n\terror: AuthError | null;\n}\n\n// Platform-specific function selection\nconst getAuthFunctions = (): any => {\n\treturn Platform.OS === \"web\" ? AuthWeb : AuthNative;\n};\n\nexport function useAuth() {\n\tconst [authState, setAuthState] = useState<AuthState>({\n\t\tuser: null,\n\t\tloading: true,\n\t\terror: null,\n\t});\n\n\t// Helper function to handle user state changes\n\tconst handleUserStateChange = (user: any) => {\n\t\tconst userData = user ? {\n\t\t\tuid: user.uid,\n\t\t\temail: user.email,\n\t\t\tisAnonymous: user.isAnonymous,\n\t\t} : null;\n\n\t\tsetAuthState({\n\t\t\tuser: userData,\n\t\t\tloading: false,\n\t\t\terror: null,\n\t\t});\n\t};\n\n\t// Helper function to set error state\n\tconst setErrorState = () => {\n\t\tsetAuthState({\n\t\t\tuser: null,\n\t\t\tloading: false,\n\t\t\terror: null,\n\t\t});\n\t};\n\n\t// Helper function to initialize auth with timeout\n\tconst initializeAuthWithTimeout = async (authFunctions: any): Promise<void> => {\n\t\tconst initPromise = new Promise<void>((resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tauthFunctions.initAuth();\n\t\t\t\tresolve();\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t});\n\t\t\n\t\tconst timeoutPromise = new Promise<never>((_, reject) => {\n\t\t\tsetTimeout(() => reject(new Error(\"Auth initialization timeout\")), 5000);\n\t\t});\n\t\t\n\t\treturn Promise.race([initPromise, timeoutPromise]);\n\t};\n\n\t// Helper function to setup auth listener\n\tconst setupAuthListener = (authFunctions: any): (() => void) | undefined => {\n\t\tconst userStateHandler = (user: any) => {\n\t\t\ttry {\n\t\t\t\thandleUserStateChange(user);\n\t\t\t} catch (error) {\n\t\t\t\tsetErrorState();\n\t\t\t}\n\t\t};\n\t\t\n\t\treturn Platform.OS === \"web\" \n\t\t\t? authFunctions.onAuthStateChangedWeb(userStateHandler)\n\t\t\t: authFunctions.onAuthStateChangedNative(userStateHandler);\n\t};\n\n\t// Main auth initialization function\n\tconst initializeAuth = async (): Promise<(() => void) | undefined> => {\n\t\ttry {\n\t\t\tconst authFunctions = getAuthFunctions();\n\t\t\tawait initializeAuthWithTimeout(authFunctions);\n\t\t\treturn setupAuthListener(authFunctions);\n\t\t} catch (error: any) {\n\t\t\tsetErrorState();\n\t\t\treturn undefined;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\t// Early return for test environments\n\t\tif (process.env.CHROME_TEST === 'true' || process.env.CI === 'true') {\n\t\t\tsetErrorState();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet unsubscribe: (() => void) | undefined;\n\n\t\t// Shorter delay to speed up initialization\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tinitializeAuth()\n\t\t\t\t.then((authUnsubscribe) => {\n\t\t\t\t\tunsubscribe = authUnsubscribe;\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetErrorState();\n\t\t\t\t});\n\t\t}, 50);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeoutId);\n\t\t\tif (!unsubscribe) return;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tunsubscribe();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error during auth listener cleanup:\", error);\n\t\t\t}\n\t\t};\n\t}, []);\n\n\tconst signInAnonymously = async (): Promise<void> => {\n\t\t// Early return for test environments\n\t\tif (process.env.CHROME_TEST === 'true' || process.env.CI === 'true' || process.env.NODE_ENV === 'test') {\n\t\t\tsetAuthState({\n\t\t\t\tuser: {\n\t\t\t\t\tuid: \"test-user-chrome\",\n\t\t\t\t\temail: null,\n\t\t\t\t\tisAnonymous: true,\n\t\t\t\t},\n\t\t\t\tloading: false,\n\t\t\t\terror: null,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tconst authFunctions = getAuthFunctions();\n\t\t\tsetAuthState(prev => ({ ...prev, loading: true, error: null }));\n\t\t\t\n\t\t\tconst signInFunction = Platform.OS === \"web\" \n\t\t\t\t? authFunctions.signInAnonymouslyWeb\n\t\t\t\t: authFunctions.signInAnonymouslyNative;\n\t\t\t\n\t\t\tawait signInFunction();\n\t\t} catch (error: any) {\n\t\t\tconsole.error(\"Anonymous sign in failed:\", error);\n\t\t\tsetAuthState(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tloading: false,\n\t\t\t\terror: { code: error.code || \"unknown\", message: error.message || \"An error occurred\" },\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst createAccount = async (email: string, password: string): Promise<void> => {\n\t\ttry {\n\t\t\tconst authFunctions = getAuthFunctions();\n\t\t\tsetAuthState(prev => ({ ...prev, loading: true, error: null }));\n\t\t\t\n\t\t\tconst createFunction = Platform.OS === \"web\" \n\t\t\t\t? authFunctions.createAccountWeb\n\t\t\t\t: authFunctions.createAccountNative;\n\t\t\t\n\t\t\tawait createFunction(email, password);\n\t\t} catch (error: any) {\n\t\t\tsetAuthState(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tloading: false,\n\t\t\t\terror: { code: error.code || \"unknown\", message: error.message || \"An error occurred\" },\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst signIn = async (email: string, password: string): Promise<void> => {\n\t\ttry {\n\t\t\tconst authFunctions = getAuthFunctions();\n\t\t\tsetAuthState(prev => ({ ...prev, loading: true, error: null }));\n\t\t\t\n\t\t\tconst signInFunction = Platform.OS === \"web\" \n\t\t\t\t? authFunctions.signInWeb\n\t\t\t\t: authFunctions.signInNative;\n\t\t\t\n\t\t\tawait signInFunction(email, password);\n\t\t} catch (error: any) {\n\t\t\tsetAuthState(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tloading: false,\n\t\t\t\terror: { code: error.code || \"unknown\", message: error.message || \"An error occurred\" },\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst signOut = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst authFunctions = getAuthFunctions();\n\t\t\tsetAuthState(prev => ({ ...prev, loading: true, error: null }));\n\t\t\t\n\t\t\tconst signOutFunction = Platform.OS === \"web\" \n\t\t\t\t? authFunctions.signOutWeb\n\t\t\t\t: authFunctions.signOutNative;\n\t\t\t\n\t\t\tawait signOutFunction();\n\t\t} catch (error: any) {\n\t\t\tsetAuthState(prev => ({\n\t\t\t\t...prev,\n\t\t\t\tloading: false,\n\t\t\t\terror: { code: error.code || \"unknown\", message: error.message || \"An error occurred\" },\n\t\t\t}));\n\t\t}\n\t};\n\n\tconst clearError = (): void => {\n\t\tsetAuthState(prev => ({ ...prev, error: null }));\n\t};\n\n\treturn {\n\t\tuser: authState.user,\n\t\tloading: authState.loading,\n\t\terror: authState.error,\n\t\tsignInAnonymously,\n\t\tcreateAccount,\n\t\tsignIn,\n\t\tsignOut,\n\t\tclearError,\n\t};\n}"],"mappings":"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","ignoreList":[]}