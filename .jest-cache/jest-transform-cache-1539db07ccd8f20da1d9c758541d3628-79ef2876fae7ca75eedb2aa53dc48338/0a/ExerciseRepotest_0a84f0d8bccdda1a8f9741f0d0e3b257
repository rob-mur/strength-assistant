362e07fd91bc5fc7f712ae301c19263d
_getJestObj().mock('@/lib/repo/ExerciseRepoFactory');
_getJestObj().mock('@legendapp/state', function () {
  return {
    observable: jest.fn(),
    observe: jest.fn(),
    computed: jest.fn()
  };
}, {
  virtual: true
});
_getJestObj().mock('@/lib/data/firebase/initializer', function () {
  return {
    initializeFirebaseServices: jest.fn(),
    getDb: jest.fn()
  };
});
_getJestObj().mock('@/lib/data/firebase/logger', function () {
  return {
    logger: {
      info: jest.fn(),
      error: jest.fn(),
      warn: jest.fn(),
      debug: jest.fn()
    }
  };
});
_getJestObj().mock('@/lib/data/supabase/SupabaseClient', function () {
  return {
    supabaseClient: {
      getCurrentUser: jest.fn()
    }
  };
});
_getJestObj().mock('@/lib/data/store', function () {
  return {
    exercises$: {
      get: jest.fn(),
      set: jest.fn()
    },
    user$: {
      get: jest.fn()
    }
  };
});
_getJestObj().mock('@/lib/data/sync/syncConfig', function () {
  return {
    syncExerciseToSupabase: jest.fn(),
    deleteExerciseFromSupabase: jest.fn(),
    syncHelpers: {
      isSyncing: jest.fn(),
      isOnline: jest.fn(),
      getPendingChangesCount: jest.fn(),
      forceSync: jest.fn(),
      hasErrors: jest.fn(),
      getErrorMessage: jest.fn()
    }
  };
});
_getJestObj().mock('@/lib/models/Exercise', function () {
  return {
    ExerciseValidator: {
      validateExerciseInput: jest.fn(),
      sanitizeExerciseName: jest.fn()
    }
  };
});
_getJestObj().mock('firebase/firestore', function () {
  return {
    collection: jest.fn(),
    addDoc: jest.fn(),
    deleteDoc: jest.fn(),
    doc: jest.fn(),
    onSnapshot: jest.fn(),
    query: jest.fn(),
    orderBy: jest.fn()
  };
});
_getJestObj().mock('uuid', function () {
  return {
    v4: jest.fn(function () {
      return 'test-uuid';
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _ExerciseRepo = require("@/lib/repo/ExerciseRepo");
var _ExerciseRepoFactory = require("@/lib/repo/ExerciseRepoFactory");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('ExerciseRepo', function () {
  var mockDelegate;
  var testUserId = 'test-user-123';
  var testExerciseId = 'test-exercise-123';
  var testExercise = {
    id: testExerciseId,
    name: 'Test Exercise',
    user_id: testUserId,
    created_at: '2023-01-01T00:00:00.000Z'
  };
  var testExerciseInput = {
    name: 'Test Exercise'
  };
  beforeEach(function () {
    jest.clearAllMocks();
    mockDelegate = {
      addExercise: jest.fn(),
      getExercises: jest.fn(),
      deleteExercise: jest.fn(),
      getExerciseById: jest.fn(),
      subscribeToExercises: jest.fn(),
      isSyncing: jest.fn(),
      isOnline: jest.fn(),
      getPendingChangesCount: jest.fn(),
      forceSync: jest.fn(),
      hasErrors: jest.fn(),
      getErrorMessage: jest.fn()
    };
    _ExerciseRepoFactory.ExerciseRepoFactory.getInstance.mockReturnValue(mockDelegate);
    _ExerciseRepo.ExerciseRepo.instance = undefined;
  });
  describe('Singleton Pattern', function () {
    test('getInstance returns the same instance', function () {
      var repo1 = _ExerciseRepo.ExerciseRepo.getInstance();
      var repo2 = _ExerciseRepo.ExerciseRepo.getInstance();
      expect(repo1).toBe(repo2);
      expect(repo1).toBeInstanceOf(_ExerciseRepo.ExerciseRepo);
    });
    test('initializes delegate on construction', function () {
      _ExerciseRepo.ExerciseRepo.getInstance();
      expect(_ExerciseRepoFactory.ExerciseRepoFactory.getInstance).toHaveBeenCalled();
    });
  });
  describe('Delegation Methods', function () {
    var repo;
    beforeEach(function () {
      repo = _ExerciseRepo.ExerciseRepo.getInstance();
    });
    test('addExercise delegates to underlying implementation', (0, _asyncToGenerator2.default)(function* () {
      mockDelegate.addExercise.mockResolvedValue();
      yield repo.addExercise(testUserId, testExerciseInput);
      expect(mockDelegate.addExercise).toHaveBeenCalledWith(testUserId, testExerciseInput);
    }));
    test('getExercises delegates to underlying implementation', function () {
      var mockObservable = {
        get: jest.fn(),
        set: jest.fn()
      };
      mockDelegate.getExercises.mockReturnValue(mockObservable);
      var result = repo.getExercises(testUserId);
      expect(mockDelegate.getExercises).toHaveBeenCalledWith(testUserId);
      expect(result).toBe(mockObservable);
    });
    test('deleteExercise delegates to underlying implementation', (0, _asyncToGenerator2.default)(function* () {
      mockDelegate.deleteExercise.mockResolvedValue();
      yield repo.deleteExercise(testUserId, testExerciseId);
      expect(mockDelegate.deleteExercise).toHaveBeenCalledWith(testUserId, testExerciseId);
    }));
    test('getExerciseById delegates to underlying implementation', (0, _asyncToGenerator2.default)(function* () {
      mockDelegate.getExerciseById.mockResolvedValue(testExercise);
      var result = yield repo.getExerciseById(testExerciseId, testUserId);
      expect(mockDelegate.getExerciseById).toHaveBeenCalledWith(testExerciseId, testUserId);
      expect(result).toBe(testExercise);
    }));
    test('subscribeToExercises delegates to underlying implementation', function () {
      var callback = jest.fn();
      var mockUnsubscribe = jest.fn();
      mockDelegate.subscribeToExercises.mockReturnValue(mockUnsubscribe);
      var result = repo.subscribeToExercises(testUserId, callback);
      expect(mockDelegate.subscribeToExercises).toHaveBeenCalledWith(testUserId, callback);
      expect(result).toBe(mockUnsubscribe);
    });
    test('isSyncing delegates to underlying implementation', function () {
      mockDelegate.isSyncing.mockReturnValue(true);
      var result = repo.isSyncing();
      expect(mockDelegate.isSyncing).toHaveBeenCalled();
      expect(result).toBe(true);
    });
    test('isOnline delegates to underlying implementation', function () {
      mockDelegate.isOnline.mockReturnValue(false);
      var result = repo.isOnline();
      expect(mockDelegate.isOnline).toHaveBeenCalled();
      expect(result).toBe(false);
    });
    test('getPendingChangesCount delegates to underlying implementation', function () {
      mockDelegate.getPendingChangesCount.mockReturnValue(5);
      var result = repo.getPendingChangesCount();
      expect(mockDelegate.getPendingChangesCount).toHaveBeenCalled();
      expect(result).toBe(5);
    });
    test('forceSync delegates to underlying implementation', (0, _asyncToGenerator2.default)(function* () {
      mockDelegate.forceSync.mockResolvedValue();
      yield repo.forceSync();
      expect(mockDelegate.forceSync).toHaveBeenCalled();
    }));
    test('hasErrors delegates to underlying implementation', function () {
      mockDelegate.hasErrors.mockReturnValue(true);
      var result = repo.hasErrors();
      expect(mockDelegate.hasErrors).toHaveBeenCalled();
      expect(result).toBe(true);
    });
    test('getErrorMessage delegates to underlying implementation', function () {
      var errorMessage = 'Test error message';
      mockDelegate.getErrorMessage.mockReturnValue(errorMessage);
      var result = repo.getErrorMessage();
      expect(mockDelegate.getErrorMessage).toHaveBeenCalled();
      expect(result).toBe(errorMessage);
    });
  });
  describe('Delegate Refreshing', function () {
    test('creates delegate during initialization', function () {
      var callCountBefore = _ExerciseRepoFactory.ExerciseRepoFactory.getInstance.mock.calls.length;
      _ExerciseRepo.ExerciseRepo.instance = undefined;
      var repo1 = _ExerciseRepo.ExerciseRepo.getInstance();
      var callCountAfter = _ExerciseRepoFactory.ExerciseRepoFactory.getInstance.mock.calls.length;
      expect(callCountAfter).toBeGreaterThan(callCountBefore);
      var repo2 = _ExerciseRepo.ExerciseRepo.getInstance();
      expect(repo1).toBe(repo2);
    });
  });
  describe('Error Handling', function () {
    var repo;
    beforeEach(function () {
      repo = _ExerciseRepo.ExerciseRepo.getInstance();
    });
    test('propagates errors from delegate addExercise', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Add exercise failed');
      mockDelegate.addExercise.mockRejectedValue(error);
      yield expect(repo.addExercise(testUserId, testExerciseInput)).rejects.toThrow('Add exercise failed');
    }));
    test('propagates errors from delegate deleteExercise', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Delete exercise failed');
      mockDelegate.deleteExercise.mockRejectedValue(error);
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('Delete exercise failed');
    }));
    test('propagates errors from delegate getExerciseById', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Get exercise failed');
      mockDelegate.getExerciseById.mockRejectedValue(error);
      yield expect(repo.getExerciseById(testExerciseId, testUserId)).rejects.toThrow('Get exercise failed');
    }));
    test('propagates errors from delegate forceSync', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Force sync failed');
      mockDelegate.forceSync.mockRejectedValue(error);
      yield expect(repo.forceSync()).rejects.toThrow('Force sync failed');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJvYnNlcnZhYmxlIiwiamVzdCIsImZuIiwib2JzZXJ2ZSIsImNvbXB1dGVkIiwidmlydHVhbCIsImluaXRpYWxpemVGaXJlYmFzZVNlcnZpY2VzIiwiZ2V0RGIiLCJsb2dnZXIiLCJpbmZvIiwiZXJyb3IiLCJ3YXJuIiwiZGVidWciLCJzdXBhYmFzZUNsaWVudCIsImdldEN1cnJlbnRVc2VyIiwiZXhlcmNpc2VzJCIsImdldCIsInNldCIsInVzZXIkIiwic3luY0V4ZXJjaXNlVG9TdXBhYmFzZSIsImRlbGV0ZUV4ZXJjaXNlRnJvbVN1cGFiYXNlIiwic3luY0hlbHBlcnMiLCJpc1N5bmNpbmciLCJpc09ubGluZSIsImdldFBlbmRpbmdDaGFuZ2VzQ291bnQiLCJmb3JjZVN5bmMiLCJoYXNFcnJvcnMiLCJnZXRFcnJvck1lc3NhZ2UiLCJFeGVyY2lzZVZhbGlkYXRvciIsInZhbGlkYXRlRXhlcmNpc2VJbnB1dCIsInNhbml0aXplRXhlcmNpc2VOYW1lIiwiY29sbGVjdGlvbiIsImFkZERvYyIsImRlbGV0ZURvYyIsImRvYyIsIm9uU25hcHNob3QiLCJxdWVyeSIsIm9yZGVyQnkiLCJ2NCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX0V4ZXJjaXNlUmVwbyIsIl9FeGVyY2lzZVJlcG9GYWN0b3J5IiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tEZWxlZ2F0ZSIsInRlc3RVc2VySWQiLCJ0ZXN0RXhlcmNpc2VJZCIsInRlc3RFeGVyY2lzZSIsImlkIiwibmFtZSIsInVzZXJfaWQiLCJjcmVhdGVkX2F0IiwidGVzdEV4ZXJjaXNlSW5wdXQiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImFkZEV4ZXJjaXNlIiwiZ2V0RXhlcmNpc2VzIiwiZGVsZXRlRXhlcmNpc2UiLCJnZXRFeGVyY2lzZUJ5SWQiLCJzdWJzY3JpYmVUb0V4ZXJjaXNlcyIsIkV4ZXJjaXNlUmVwb0ZhY3RvcnkiLCJnZXRJbnN0YW5jZSIsIm1vY2tSZXR1cm5WYWx1ZSIsIkV4ZXJjaXNlUmVwbyIsImluc3RhbmNlIiwidW5kZWZpbmVkIiwidGVzdCIsInJlcG8xIiwicmVwbzIiLCJleHBlY3QiLCJ0b0JlIiwidG9CZUluc3RhbmNlT2YiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwicmVwbyIsImRlZmF1bHQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja09ic2VydmFibGUiLCJyZXN1bHQiLCJjYWxsYmFjayIsIm1vY2tVbnN1YnNjcmliZSIsImVycm9yTWVzc2FnZSIsImNhbGxDb3VudEJlZm9yZSIsImNhbGxzIiwibGVuZ3RoIiwiY2FsbENvdW50QWZ0ZXIiLCJ0b0JlR3JlYXRlclRoYW4iLCJFcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlIiwicmVqZWN0cyIsInRvVGhyb3ciXSwic291cmNlcyI6WyJFeGVyY2lzZVJlcG8tdGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeGVyY2lzZVJlcG8gfSBmcm9tICdAL2xpYi9yZXBvL0V4ZXJjaXNlUmVwbyc7XG5pbXBvcnQgeyBFeGVyY2lzZVJlcG9GYWN0b3J5IH0gZnJvbSAnQC9saWIvcmVwby9FeGVyY2lzZVJlcG9GYWN0b3J5JztcbmltcG9ydCB7IElFeGVyY2lzZVJlcG8gfSBmcm9tICdAL2xpYi9yZXBvL0lFeGVyY2lzZVJlcG8nO1xuaW1wb3J0IHsgRXhlcmNpc2UsIEV4ZXJjaXNlSW5wdXQgfSBmcm9tICdAL2xpYi9tb2RlbHMvRXhlcmNpc2UnO1xuXG4vLyBNb2NrIEV4ZXJjaXNlUmVwb0ZhY3Rvcnlcbmplc3QubW9jaygnQC9saWIvcmVwby9FeGVyY2lzZVJlcG9GYWN0b3J5Jyk7XG5cbi8vIE1vY2sgYWxsIGRlcGVuZGVuY2llcyB0aGF0IGFyZSBpbXBvcnRlZCBieSB0aGUgZmFjdG9yeVxuamVzdC5tb2NrKCdAbGVnZW5kYXBwL3N0YXRlJywgKCkgPT4gKHtcbiAgb2JzZXJ2YWJsZTogamVzdC5mbigpLFxuICBvYnNlcnZlOiBqZXN0LmZuKCksXG4gIGNvbXB1dGVkOiBqZXN0LmZuKCksXG59KSwgeyB2aXJ0dWFsOiB0cnVlIH0pO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2RhdGEvZmlyZWJhc2UvaW5pdGlhbGl6ZXInLCAoKSA9PiAoe1xuICBpbml0aWFsaXplRmlyZWJhc2VTZXJ2aWNlczogamVzdC5mbigpLFxuICBnZXREYjogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL2RhdGEvZmlyZWJhc2UvbG9nZ2VyJywgKCkgPT4gKHtcbiAgbG9nZ2VyOiB7XG4gICAgaW5mbzogamVzdC5mbigpLFxuICAgIGVycm9yOiBqZXN0LmZuKCksXG4gICAgd2FybjogamVzdC5mbigpLFxuICAgIGRlYnVnOiBqZXN0LmZuKCksXG4gIH1cbn0pKTtcblxuamVzdC5tb2NrKCdAL2xpYi9kYXRhL3N1cGFiYXNlL1N1cGFiYXNlQ2xpZW50JywgKCkgPT4gKHtcbiAgc3VwYWJhc2VDbGllbnQ6IHtcbiAgICBnZXRDdXJyZW50VXNlcjogamVzdC5mbigpLFxuICB9XG59KSk7XG5cbmplc3QubW9jaygnQC9saWIvZGF0YS9zdG9yZScsICgpID0+ICh7XG4gIGV4ZXJjaXNlcyQ6IHtcbiAgICBnZXQ6IGplc3QuZm4oKSxcbiAgICBzZXQ6IGplc3QuZm4oKSxcbiAgfSxcbiAgdXNlciQ6IHtcbiAgICBnZXQ6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuamVzdC5tb2NrKCdAL2xpYi9kYXRhL3N5bmMvc3luY0NvbmZpZycsICgpID0+ICh7XG4gIHN5bmNFeGVyY2lzZVRvU3VwYWJhc2U6IGplc3QuZm4oKSxcbiAgZGVsZXRlRXhlcmNpc2VGcm9tU3VwYWJhc2U6IGplc3QuZm4oKSxcbiAgc3luY0hlbHBlcnM6IHtcbiAgICBpc1N5bmNpbmc6IGplc3QuZm4oKSxcbiAgICBpc09ubGluZTogamVzdC5mbigpLFxuICAgIGdldFBlbmRpbmdDaGFuZ2VzQ291bnQ6IGplc3QuZm4oKSxcbiAgICBmb3JjZVN5bmM6IGplc3QuZm4oKSxcbiAgICBoYXNFcnJvcnM6IGplc3QuZm4oKSxcbiAgICBnZXRFcnJvck1lc3NhZ2U6IGplc3QuZm4oKSxcbiAgfVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvbGliL21vZGVscy9FeGVyY2lzZScsICgpID0+ICh7XG4gIEV4ZXJjaXNlVmFsaWRhdG9yOiB7XG4gICAgdmFsaWRhdGVFeGVyY2lzZUlucHV0OiBqZXN0LmZuKCksXG4gICAgc2FuaXRpemVFeGVyY2lzZU5hbWU6IGplc3QuZm4oKSxcbiAgfVxufSkpO1xuXG5qZXN0Lm1vY2soJ2ZpcmViYXNlL2ZpcmVzdG9yZScsICgpID0+ICh7XG4gIGNvbGxlY3Rpb246IGplc3QuZm4oKSxcbiAgYWRkRG9jOiBqZXN0LmZuKCksXG4gIGRlbGV0ZURvYzogamVzdC5mbigpLFxuICBkb2M6IGplc3QuZm4oKSxcbiAgb25TbmFwc2hvdDogamVzdC5mbigpLFxuICBxdWVyeTogamVzdC5mbigpLFxuICBvcmRlckJ5OiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygndXVpZCcsICgpID0+ICh7XG4gIHY0OiBqZXN0LmZuKCgpID0+ICd0ZXN0LXV1aWQnKSxcbn0pKTtcblxuZGVzY3JpYmUoJ0V4ZXJjaXNlUmVwbycsICgpID0+IHtcbiAgbGV0IG1vY2tEZWxlZ2F0ZTogamVzdC5Nb2NrZWQ8SUV4ZXJjaXNlUmVwbz47XG4gIGNvbnN0IHRlc3RVc2VySWQgPSAndGVzdC11c2VyLTEyMyc7XG4gIGNvbnN0IHRlc3RFeGVyY2lzZUlkID0gJ3Rlc3QtZXhlcmNpc2UtMTIzJztcbiAgY29uc3QgdGVzdEV4ZXJjaXNlOiBFeGVyY2lzZSA9IHtcbiAgICBpZDogdGVzdEV4ZXJjaXNlSWQsXG4gICAgbmFtZTogJ1Rlc3QgRXhlcmNpc2UnLFxuICAgIHVzZXJfaWQ6IHRlc3RVc2VySWQsXG4gICAgY3JlYXRlZF9hdDogJzIwMjMtMDEtMDFUMDA6MDA6MDAuMDAwWidcbiAgfTtcbiAgY29uc3QgdGVzdEV4ZXJjaXNlSW5wdXQ6IEV4ZXJjaXNlSW5wdXQgPSB7IG5hbWU6ICdUZXN0IEV4ZXJjaXNlJyB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBtb2NrIGRlbGVnYXRlIHdpdGggYWxsIHJlcXVpcmVkIG1ldGhvZHNcbiAgICBtb2NrRGVsZWdhdGUgPSB7XG4gICAgICBhZGRFeGVyY2lzZTogamVzdC5mbigpLFxuICAgICAgZ2V0RXhlcmNpc2VzOiBqZXN0LmZuKCksXG4gICAgICBkZWxldGVFeGVyY2lzZTogamVzdC5mbigpLFxuICAgICAgZ2V0RXhlcmNpc2VCeUlkOiBqZXN0LmZuKCksXG4gICAgICBzdWJzY3JpYmVUb0V4ZXJjaXNlczogamVzdC5mbigpLFxuICAgICAgaXNTeW5jaW5nOiBqZXN0LmZuKCksXG4gICAgICBpc09ubGluZTogamVzdC5mbigpLFxuICAgICAgZ2V0UGVuZGluZ0NoYW5nZXNDb3VudDogamVzdC5mbigpLFxuICAgICAgZm9yY2VTeW5jOiBqZXN0LmZuKCksXG4gICAgICBoYXNFcnJvcnM6IGplc3QuZm4oKSxcbiAgICAgIGdldEVycm9yTWVzc2FnZTogamVzdC5mbigpLFxuICAgIH07XG5cbiAgICAvLyBNb2NrIEV4ZXJjaXNlUmVwb0ZhY3RvcnkgdG8gcmV0dXJuIG91ciBtb2NrIGRlbGVnYXRlXG4gICAgKEV4ZXJjaXNlUmVwb0ZhY3RvcnkuZ2V0SW5zdGFuY2UgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja0RlbGVnYXRlKTtcbiAgICBcbiAgICAvLyBSZXNldCBzaW5nbGV0b24gaW5zdGFuY2UgdG8gZW5zdXJlIGZyZXNoIGluaXRpYWxpemF0aW9uXG4gICAgKEV4ZXJjaXNlUmVwbyBhcyBhbnkpLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2luZ2xldG9uIFBhdHRlcm4nLCAoKSA9PiB7XG4gICAgdGVzdCgnZ2V0SW5zdGFuY2UgcmV0dXJucyB0aGUgc2FtZSBpbnN0YW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcG8xID0gRXhlcmNpc2VSZXBvLmdldEluc3RhbmNlKCk7XG4gICAgICBjb25zdCByZXBvMiA9IEV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVwbzEpLnRvQmUocmVwbzIpO1xuICAgICAgZXhwZWN0KHJlcG8xKS50b0JlSW5zdGFuY2VPZihFeGVyY2lzZVJlcG8pO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnaW5pdGlhbGl6ZXMgZGVsZWdhdGUgb24gY29uc3RydWN0aW9uJywgKCkgPT4ge1xuICAgICAgRXhlcmNpc2VSZXBvLmdldEluc3RhbmNlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChFeGVyY2lzZVJlcG9GYWN0b3J5LmdldEluc3RhbmNlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEZWxlZ2F0aW9uIE1ldGhvZHMnLCAoKSA9PiB7XG4gICAgbGV0IHJlcG86IEV4ZXJjaXNlUmVwbztcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgcmVwbyA9IEV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnYWRkRXhlcmNpc2UgZGVsZWdhdGVzIHRvIHVuZGVybHlpbmcgaW1wbGVtZW50YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGVsZWdhdGUuYWRkRXhlcmNpc2UubW9ja1Jlc29sdmVkVmFsdWUoKTtcblxuICAgICAgYXdhaXQgcmVwby5hZGRFeGVyY2lzZSh0ZXN0VXNlcklkLCB0ZXN0RXhlcmNpc2VJbnB1dCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGVsZWdhdGUuYWRkRXhlcmNpc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RVc2VySWQsIHRlc3RFeGVyY2lzZUlucHV0KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2dldEV4ZXJjaXNlcyBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tPYnNlcnZhYmxlID0geyBnZXQ6IGplc3QuZm4oKSwgc2V0OiBqZXN0LmZuKCkgfTtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5nZXRFeGVyY2lzZXMubW9ja1JldHVyblZhbHVlKG1vY2tPYnNlcnZhYmxlIGFzIGFueSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uZ2V0RXhlcmNpc2VzKHRlc3RVc2VySWQpO1xuXG4gICAgICBleHBlY3QobW9ja0RlbGVnYXRlLmdldEV4ZXJjaXNlcykudG9IYXZlQmVlbkNhbGxlZFdpdGgodGVzdFVzZXJJZCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKG1vY2tPYnNlcnZhYmxlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2RlbGV0ZUV4ZXJjaXNlIGRlbGVnYXRlcyB0byB1bmRlcmx5aW5nIGltcGxlbWVudGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0RlbGVnYXRlLmRlbGV0ZUV4ZXJjaXNlLm1vY2tSZXNvbHZlZFZhbHVlKCk7XG5cbiAgICAgIGF3YWl0IHJlcG8uZGVsZXRlRXhlcmNpc2UodGVzdFVzZXJJZCwgdGVzdEV4ZXJjaXNlSWQpO1xuXG4gICAgICBleHBlY3QobW9ja0RlbGVnYXRlLmRlbGV0ZUV4ZXJjaXNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlcklkLCB0ZXN0RXhlcmNpc2VJZCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdnZXRFeGVyY2lzZUJ5SWQgZGVsZWdhdGVzIHRvIHVuZGVybHlpbmcgaW1wbGVtZW50YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGVsZWdhdGUuZ2V0RXhlcmNpc2VCeUlkLm1vY2tSZXNvbHZlZFZhbHVlKHRlc3RFeGVyY2lzZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG8uZ2V0RXhlcmNpc2VCeUlkKHRlc3RFeGVyY2lzZUlkLCB0ZXN0VXNlcklkKTtcblxuICAgICAgZXhwZWN0KG1vY2tEZWxlZ2F0ZS5nZXRFeGVyY2lzZUJ5SWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RFeGVyY2lzZUlkLCB0ZXN0VXNlcklkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodGVzdEV4ZXJjaXNlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3N1YnNjcmliZVRvRXhlcmNpc2VzIGRlbGVnYXRlcyB0byB1bmRlcmx5aW5nIGltcGxlbWVudGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBtb2NrVW5zdWJzY3JpYmUgPSBqZXN0LmZuKCk7XG4gICAgICBtb2NrRGVsZWdhdGUuc3Vic2NyaWJlVG9FeGVyY2lzZXMubW9ja1JldHVyblZhbHVlKG1vY2tVbnN1YnNjcmliZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uc3Vic2NyaWJlVG9FeGVyY2lzZXModGVzdFVzZXJJZCwgY2FsbGJhY2spO1xuXG4gICAgICBleHBlY3QobW9ja0RlbGVnYXRlLnN1YnNjcmliZVRvRXhlcmNpc2VzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZXN0VXNlcklkLCBjYWxsYmFjayk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKG1vY2tVbnN1YnNjcmliZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdpc1N5bmNpbmcgZGVsZWdhdGVzIHRvIHVuZGVybHlpbmcgaW1wbGVtZW50YXRpb24nLCAoKSA9PiB7XG4gICAgICBtb2NrRGVsZWdhdGUuaXNTeW5jaW5nLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gcmVwby5pc1N5bmNpbmcoKTtcblxuICAgICAgZXhwZWN0KG1vY2tEZWxlZ2F0ZS5pc1N5bmNpbmcpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdpc09ubGluZSBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5pc09ubGluZS5tb2NrUmV0dXJuVmFsdWUoZmFsc2UpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSByZXBvLmlzT25saW5lKCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGVsZWdhdGUuaXNPbmxpbmUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZ2V0UGVuZGluZ0NoYW5nZXNDb3VudCBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5nZXRQZW5kaW5nQ2hhbmdlc0NvdW50Lm1vY2tSZXR1cm5WYWx1ZSg1KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gcmVwby5nZXRQZW5kaW5nQ2hhbmdlc0NvdW50KCk7XG5cbiAgICAgIGV4cGVjdChtb2NrRGVsZWdhdGUuZ2V0UGVuZGluZ0NoYW5nZXNDb3VudCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSg1KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2ZvcmNlU3luYyBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5mb3JjZVN5bmMubW9ja1Jlc29sdmVkVmFsdWUoKTtcblxuICAgICAgYXdhaXQgcmVwby5mb3JjZVN5bmMoKTtcblxuICAgICAgZXhwZWN0KG1vY2tEZWxlZ2F0ZS5mb3JjZVN5bmMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2hhc0Vycm9ycyBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5oYXNFcnJvcnMubW9ja1JldHVyblZhbHVlKHRydWUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSByZXBvLmhhc0Vycm9ycygpO1xuXG4gICAgICBleHBlY3QobW9ja0RlbGVnYXRlLmhhc0Vycm9ycykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2dldEVycm9yTWVzc2FnZSBkZWxlZ2F0ZXMgdG8gdW5kZXJseWluZyBpbXBsZW1lbnRhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdUZXN0IGVycm9yIG1lc3NhZ2UnO1xuICAgICAgbW9ja0RlbGVnYXRlLmdldEVycm9yTWVzc2FnZS5tb2NrUmV0dXJuVmFsdWUoZXJyb3JNZXNzYWdlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gcmVwby5nZXRFcnJvck1lc3NhZ2UoKTtcblxuICAgICAgZXhwZWN0KG1vY2tEZWxlZ2F0ZS5nZXRFcnJvck1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZXJyb3JNZXNzYWdlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RlbGVnYXRlIFJlZnJlc2hpbmcnLCAoKSA9PiB7XG4gICAgdGVzdCgnY3JlYXRlcyBkZWxlZ2F0ZSBkdXJpbmcgaW5pdGlhbGl6YXRpb24nLCAoKSA9PiB7XG4gICAgICAvLyBUaGUgYmVmb3JlRWFjaCBhbHJlYWR5IGNyZWF0ZXMgYW4gaW5zdGFuY2Ugd2hpY2ggY2FsbHMgdGhlIGZhY3RvcnlcbiAgICAgIC8vIFNpbmNlIHdlIGNsZWFyIG1vY2tzIGluIGJlZm9yZUVhY2gsIHdlIG5lZWQgdG8gY2hlY2sgYWZ0ZXIgZ2V0SW5zdGFuY2UgY2FsbFxuICAgICAgY29uc3QgY2FsbENvdW50QmVmb3JlID0gKEV4ZXJjaXNlUmVwb0ZhY3RvcnkuZ2V0SW5zdGFuY2UgYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzLmxlbmd0aDtcbiAgICAgIFxuICAgICAgLy8gUmVzZXQgc2luZ2xldG9uIGFuZCBjcmVhdGUgbmV3IGluc3RhbmNlIHRvIHRyaWdnZXIgZmFjdG9yeSBjYWxsXG4gICAgICAoRXhlcmNpc2VSZXBvIGFzIGFueSkuaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gICAgICBjb25zdCByZXBvMSA9IEV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgICAgXG4gICAgICBjb25zdCBjYWxsQ291bnRBZnRlciA9IChFeGVyY2lzZVJlcG9GYWN0b3J5LmdldEluc3RhbmNlIGFzIGplc3QuTW9jaykubW9jay5jYWxscy5sZW5ndGg7XG4gICAgICBleHBlY3QoY2FsbENvdW50QWZ0ZXIpLnRvQmVHcmVhdGVyVGhhbihjYWxsQ291bnRCZWZvcmUpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgc2luZ2xldG9uIGJlaGF2aW9yXG4gICAgICBjb25zdCByZXBvMiA9IEV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgICAgZXhwZWN0KHJlcG8xKS50b0JlKHJlcG8yKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGxldCByZXBvOiBFeGVyY2lzZVJlcG87XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHJlcG8gPSBFeGVyY2lzZVJlcG8uZ2V0SW5zdGFuY2UoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Byb3BhZ2F0ZXMgZXJyb3JzIGZyb20gZGVsZWdhdGUgYWRkRXhlcmNpc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignQWRkIGV4ZXJjaXNlIGZhaWxlZCcpO1xuICAgICAgbW9ja0RlbGVnYXRlLmFkZEV4ZXJjaXNlLm1vY2tSZWplY3RlZFZhbHVlKGVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uYWRkRXhlcmNpc2UodGVzdFVzZXJJZCwgdGVzdEV4ZXJjaXNlSW5wdXQpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdBZGQgZXhlcmNpc2UgZmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdwcm9wYWdhdGVzIGVycm9ycyBmcm9tIGRlbGVnYXRlIGRlbGV0ZUV4ZXJjaXNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0RlbGV0ZSBleGVyY2lzZSBmYWlsZWQnKTtcbiAgICAgIG1vY2tEZWxlZ2F0ZS5kZWxldGVFeGVyY2lzZS5tb2NrUmVqZWN0ZWRWYWx1ZShlcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmRlbGV0ZUV4ZXJjaXNlKHRlc3RVc2VySWQsIHRlc3RFeGVyY2lzZUlkKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnRGVsZXRlIGV4ZXJjaXNlIGZhaWxlZCcpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgncHJvcGFnYXRlcyBlcnJvcnMgZnJvbSBkZWxlZ2F0ZSBnZXRFeGVyY2lzZUJ5SWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignR2V0IGV4ZXJjaXNlIGZhaWxlZCcpO1xuICAgICAgbW9ja0RlbGVnYXRlLmdldEV4ZXJjaXNlQnlJZC5tb2NrUmVqZWN0ZWRWYWx1ZShlcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmdldEV4ZXJjaXNlQnlJZCh0ZXN0RXhlcmNpc2VJZCwgdGVzdFVzZXJJZCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ0dldCBleGVyY2lzZSBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Byb3BhZ2F0ZXMgZXJyb3JzIGZyb20gZGVsZWdhdGUgZm9yY2VTeW5jJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0ZvcmNlIHN5bmMgZmFpbGVkJyk7XG4gICAgICBtb2NrRGVsZWdhdGUuZm9yY2VTeW5jLm1vY2tSZWplY3RlZFZhbHVlKGVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uZm9yY2VTeW5jKCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ0ZvcmNlIHN5bmMgZmFpbGVkJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFNQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsZ0NBQWdDLENBQUM7QUFHM0NELFdBQUEsR0FBS0MsSUFBSSxDQUFDLGtCQUFrQixFQUFFO0VBQUEsT0FBTztJQUNuQ0MsVUFBVSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JCQyxPQUFPLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbEJFLFFBQVEsRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDcEIsQ0FBQztBQUFBLENBQUMsRUFBRTtFQUFFRyxPQUFPLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFFdEJQLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGlDQUFpQyxFQUFFO0VBQUEsT0FBTztJQUNsRE8sMEJBQTBCLEVBQUVMLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDckNLLEtBQUssRUFBRU4sSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDakIsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUVISixXQUFBLEdBQUtDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtFQUFBLE9BQU87SUFDN0NTLE1BQU0sRUFBRTtNQUNOQyxJQUFJLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDZlEsS0FBSyxFQUFFVCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2hCUyxJQUFJLEVBQUVWLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDZlUsS0FBSyxFQUFFWCxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUNqQjtFQUNGLENBQUM7QUFBQSxDQUFDLENBQUM7QUFFSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsb0NBQW9DLEVBQUU7RUFBQSxPQUFPO0lBQ3JEYyxjQUFjLEVBQUU7TUFDZEMsY0FBYyxFQUFFYixJQUFJLENBQUNDLEVB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