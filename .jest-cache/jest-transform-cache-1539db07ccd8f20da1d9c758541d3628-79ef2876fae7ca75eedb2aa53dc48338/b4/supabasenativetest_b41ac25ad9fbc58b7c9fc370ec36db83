88a280ed75e9e63fd645b69b13d6ee27
_getJestObj().mock("@supabase/supabase-js", function () {
  return {
    createClient: jest.fn()
  };
}, {
  virtual: true
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _env2 = require("expo/virtual/env");
var _supabase = require("@/lib/data/supabase/supabase/supabase.native");
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var _require = require("@supabase/supabase-js"),
  createClient = _require.createClient;
var mockCreateClient = createClient;
var originalEnv = process.env;
function setNodeEnv(value) {
  Object.defineProperty(process.env, 'NODE_ENV', {
    value: value,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
describe("SupabaseNativeService", function () {
  var mockClient = {
    auth: {},
    from: jest.fn(),
    storage: {}
  };
  beforeEach(function () {
    jest.clearAllMocks();
    delete _env2.env.EXPO_PUBLIC_SUPABASE_URL;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_ANON_KEY;
    delete _env2.env.EXPO_PUBLIC_USE_SUPABASE_EMULATOR;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_EMULATOR_HOST;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_EMULATOR_PORT;
    mockCreateClient.mockReturnValue(mockClient);
    (0, _supabase.resetSupabaseService)();
  });
  afterEach(function () {
    delete _env2.env.EXPO_PUBLIC_SUPABASE_URL;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_ANON_KEY;
    delete _env2.env.EXPO_PUBLIC_USE_SUPABASE_EMULATOR;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_EMULATOR_HOST;
    delete _env2.env.EXPO_PUBLIC_SUPABASE_EMULATOR_PORT;
  });
  afterAll(function () {
    process.env = originalEnv;
  });
  describe("initialization", function () {
    test("initializes with production configuration", function () {
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-anon-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("https://test.supabase.co", "test-anon-key", {
        auth: {
          autoRefreshToken: true,
          persistSession: true,
          detectSessionInUrl: false
        }
      });
    });
    test("initializes with emulator configuration in development", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "dev-anon-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("http://10.0.2.2:54321", "dev-anon-key", expect.objectContaining({
        auth: expect.objectContaining({
          autoRefreshToken: true,
          persistSession: true,
          detectSessionInUrl: false
        })
      }));
    });
    test("uses custom emulator host and port", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_EMULATOR_HOST = "192.168.1.100";
      process.env.EXPO_PUBLIC_SUPABASE_EMULATOR_PORT = "8000";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "dev-anon-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("http://192.168.1.100:8000", "dev-anon-key", expect.any(Object));
    });
    test("uses default Android emulator host (10.0.2.2)", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "dev-anon-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("http://10.0.2.2:54321", "dev-anon-key", expect.any(Object));
    });
    test("uses default development key when no key provided in emulator mode", function () {
      setNodeEnv("development");
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("http://10.0.2.2:54321", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0", expect.any(Object));
    });
    test("throws error when missing production URL", function () {
      setNodeEnv("production");
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-key";
      expect(function () {
        return (0, _supabase.initSupabase)();
      }).toThrow("Missing Supabase configuration. URL: false, Key: true");
    });
    test("throws error when missing production anon key", function () {
      setNodeEnv("production");
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      expect(function () {
        return (0, _supabase.initSupabase)();
      }).toThrow("Missing Supabase configuration. URL: true, Key: false");
    });
    test("skips initialization when already initialized", function () {
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-anon-key";
      (0, _supabase.initSupabase)();
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledTimes(1);
    });
  });
  describe("getSupabaseClient", function () {
    test("returns client after initialization", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-anon-key";
      (0, _supabase.initSupabase)();
      var client = (0, _supabase.getSupabaseClient)();
      expect(client).toBe(mockClient);
    });
    test("throws error when not initialized", function () {
      expect(function () {
        return (0, _supabase.getSupabaseClient)();
      }).toThrow("Supabase service not initialized. Call init() before getSupabaseClient()");
    });
  });
  describe("platform-specific differences", function () {
    test("uses different default host than web (10.0.2.2 vs 127.0.0.1)", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "dev-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalled();
      var calls = mockCreateClient.mock.calls;
      if (calls.length > 0) {
        var _calls$ = (0, _slicedToArray2.default)(calls[0], 1),
          url = _calls$[0];
        expect(url).toBe("http://10.0.2.2:54321");
      }
    });
    test("sets detectSessionInUrl to false for native", function () {
      setNodeEnv("development");
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalled();
      var calls = mockCreateClient.mock.calls;
      if (calls.length > 0) {
        var _config$auth;
        var _calls$2 = (0, _slicedToArray2.default)(calls[0], 3),
          config = _calls$2[2];
        expect(config == null || (_config$auth = config.auth) == null ? void 0 : _config$auth.detectSessionInUrl).toBe(false);
      }
    });
  });
  describe("error handling", function () {
    test("handles createClient errors", function () {
      setNodeEnv("production");
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://test.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "test-anon-key";
      mockCreateClient.mockImplementation(function () {
        throw new Error("Connection failed");
      });
      expect(function () {
        return (0, _supabase.initSupabase)();
      }).toThrow("Connection failed");
    });
  });
  describe("emulator detection", function () {
    test("detects emulator mode with EXPO_PUBLIC_USE_SUPABASE_EMULATOR", function () {
      Object.defineProperty(process.env, 'EXPO_PUBLIC_USE_SUPABASE_EMULATOR', {
        value: 'true',
        writable: true,
        enumerable: true,
        configurable: true
      });
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("http://10.0.2.2:54321", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0", expect.any(Object));
    });
    test("uses production mode when emulator flag is false", function () {
      setNodeEnv("production");
      process.env.EXPO_PUBLIC_USE_SUPABASE_EMULATOR = "false";
      process.env.EXPO_PUBLIC_SUPABASE_URL = "https://prod.supabase.co";
      process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY = "prod-key";
      (0, _supabase.initSupabase)();
      expect(mockCreateClient).toHaveBeenCalledWith("https://prod.supabase.co", "prod-key", expect.any(Object));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJjcmVhdGVDbGllbnQiLCJqZXN0IiwiZm4iLCJ2aXJ0dWFsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfc2xpY2VkVG9BcnJheTIiLCJfZW52MiIsIl9zdXBhYmFzZSIsIl9yZXF1aXJlMiIsIl9yZXF1aXJlIiwibW9ja0NyZWF0ZUNsaWVudCIsIm9yaWdpbmFsRW52IiwicHJvY2VzcyIsImVudiIsInNldE5vZGVFbnYiLCJ2YWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZGVzY3JpYmUiLCJtb2NrQ2xpZW50IiwiYXV0aCIsImZyb20iLCJzdG9yYWdlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJFWFBPX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJFWFBPX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIkVYUE9fUFVCTElDX1VTRV9TVVBBQkFTRV9FTVVMQVRPUiIsIkVYUE9fUFVCTElDX1NVUEFCQVNFX0VNVUxBVE9SX0hPU1QiLCJFWFBPX1BVQkxJQ19TVVBBQkFTRV9FTVVMQVRPUl9QT1JUIiwibW9ja1JldHVyblZhbHVlIiwicmVzZXRTdXBhYmFzZVNlcnZpY2UiLCJhZnRlckVhY2giLCJhZnRlckFsbCIsInRlc3QiLCJpbml0U3VwYWJhc2UiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsImRldGVjdFNlc3Npb25JblVybCIsIm9iamVjdENvbnRhaW5pbmciLCJhbnkiLCJ0b1Rocm93IiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiY2xpZW50IiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZCIsImNhbGxzIiwibGVuZ3RoIiwiX2NhbGxzJCIsImRlZmF1bHQiLCJ1cmwiLCJfY29uZmlnJGF1dGgiLCJfY2FsbHMkMiIsImNvbmZpZyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIkVycm9yIl0sInNvdXJjZXMiOlsic3VwYWJhc2UtbmF0aXZlLXRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdFN1cGFiYXNlLCBnZXRTdXBhYmFzZUNsaWVudCwgcmVzZXRTdXBhYmFzZVNlcnZpY2UgfSBmcm9tIFwiQC9saWIvZGF0YS9zdXBhYmFzZS9zdXBhYmFzZS9zdXBhYmFzZS5uYXRpdmVcIjtcblxuLy8gTW9jayB0aGUgU3VwYWJhc2UgY2xpZW50XG5qZXN0Lm1vY2soXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIiwgKCkgPT4gKHtcbiAgY3JlYXRlQ2xpZW50OiBqZXN0LmZuKCksXG59KSwgeyB2aXJ0dWFsOiB0cnVlIH0pO1xuXG5jb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gcmVxdWlyZShcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiKTtcbmNvbnN0IG1vY2tDcmVhdGVDbGllbnQgPSBjcmVhdGVDbGllbnQ7XG5cbi8vIE1vY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCBvcmlnaW5hbEVudiA9IHByb2Nlc3MuZW52O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IE5PREVfRU5WIGluIEplc3QgZW52aXJvbm1lbnRcbmZ1bmN0aW9uIHNldE5vZGVFbnYodmFsdWU6IHN0cmluZykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2Vzcy5lbnYsICdOT0RFX0VOVicsIHtcbiAgICB2YWx1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuZGVzY3JpYmUoXCJTdXBhYmFzZU5hdGl2ZVNlcnZpY2VcIiwgKCkgPT4ge1xuICBjb25zdCBtb2NrQ2xpZW50ID0ge1xuICAgIGF1dGg6IHt9LFxuICAgIGZyb206IGplc3QuZm4oKSxcbiAgICBzdG9yYWdlOiB7fSxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAvLyBDbGVhciBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgdGhhdCBtaWdodCBpbnRlcmZlcmUgd2l0aCB0ZXN0c1xuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19VU0VfU1VQQUJBU0VfRU1VTEFUT1I7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0VNVUxBVE9SX0hPU1Q7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0VNVUxBVE9SX1BPUlQ7XG4gICAgbW9ja0NyZWF0ZUNsaWVudC5tb2NrUmV0dXJuVmFsdWUobW9ja0NsaWVudCBhcyBhbnkpO1xuICAgIHJlc2V0U3VwYWJhc2VTZXJ2aWNlKCk7IC8vIFJlc2V0IHNlcnZpY2Ugc3RhdGUgZm9yIGVhY2ggdGVzdFxuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIC8vIENsZWFuIHVwIGFueSB0ZXN0LXNwZWNpZmljIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19VU0VfU1VQQUJBU0VfRU1VTEFUT1I7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0VNVUxBVE9SX0hPU1Q7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0VNVUxBVE9SX1BPUlQ7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKCgpID0+IHtcbiAgICBwcm9jZXNzLmVudiA9IG9yaWdpbmFsRW52O1xuICB9KTtcblxuICBkZXNjcmliZShcImluaXRpYWxpemF0aW9uXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiaW5pdGlhbGl6ZXMgd2l0aCBwcm9kdWN0aW9uIGNvbmZpZ3VyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfVVJMID0gXCJodHRwczovL3Rlc3Quc3VwYWJhc2UuY29cIjtcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gXCJ0ZXN0LWFub24ta2V5XCI7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIFwiaHR0cHM6Ly90ZXN0LnN1cGFiYXNlLmNvXCIsXG4gICAgICAgIFwidGVzdC1hbm9uLWtleVwiLFxuICAgICAgICB7XG4gICAgICAgICAgYXV0aDoge1xuICAgICAgICAgICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICAgICAgICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiBmYWxzZSwgLy8gTmF0aXZlLXNwZWNpZmljOiBzaG91bGQgYmUgZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcImluaXRpYWxpemVzIHdpdGggZW11bGF0b3IgY29uZmlndXJhdGlvbiBpbiBkZXZlbG9wbWVudFwiLCAoKSA9PiB7XG4gICAgICBzZXROb2RlRW52KFwiZGV2ZWxvcG1lbnRcIik7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSA9IFwiZGV2LWFub24ta2V5XCI7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIFwiaHR0cDovLzEwLjAuMi4yOjU0MzIxXCIsIC8vIE5hdGl2ZS1zcGVjaWZpYzogc2hvdWxkIHVzZSAxMC4wLjIuMlxuICAgICAgICBcImRldi1hbm9uLWtleVwiLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgYXV0aDogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICAgICAgICAgIHBlcnNpc3RTZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiBmYWxzZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwidXNlcyBjdXN0b20gZW11bGF0b3IgaG9zdCBhbmQgcG9ydFwiLCAoKSA9PiB7XG4gICAgICBzZXROb2RlRW52KFwiZGV2ZWxvcG1lbnRcIik7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9FTVVMQVRPUl9IT1NUID0gXCIxOTIuMTY4LjEuMTAwXCI7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9FTVVMQVRPUl9QT1JUID0gXCI4MDAwXCI7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSA9IFwiZGV2LWFub24ta2V5XCI7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIFwiaHR0cDovLzE5Mi4xNjguMS4xMDA6ODAwMFwiLFxuICAgICAgICBcImRldi1hbm9uLWtleVwiLFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdClcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwidXNlcyBkZWZhdWx0IEFuZHJvaWQgZW11bGF0b3IgaG9zdCAoMTAuMC4yLjIpXCIsICgpID0+IHtcbiAgICAgIHNldE5vZGVFbnYoXCJkZXZlbG9wbWVudFwiKTtcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gXCJkZXYtYW5vbi1rZXlcIjtcbiAgICAgIFxuICAgICAgaW5pdFN1cGFiYXNlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrQ3JlYXRlQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgXCJodHRwOi8vMTAuMC4yLjI6NTQzMjFcIixcbiAgICAgICAgXCJkZXYtYW5vbi1rZXlcIixcbiAgICAgICAgZXhwZWN0LmFueShPYmplY3QpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdChcInVzZXMgZGVmYXVsdCBkZXZlbG9wbWVudCBrZXkgd2hlbiBubyBrZXkgcHJvdmlkZWQgaW4gZW11bGF0b3IgbW9kZVwiLCAoKSA9PiB7XG4gICAgICBzZXROb2RlRW52KFwiZGV2ZWxvcG1lbnRcIik7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIFwiaHR0cDovLzEwLjAuMi4yOjU0MzIxXCIsXG4gICAgICAgIFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlMxa1pXMXZJaXdpY205c1pTSTZJbUZ1YjI0aUxDSmxlSEFpT2pFNU9ETTRNVEk1T1RaOS5DUlhQMUE3V09lb0plWHhqTm5pNDNrZFF3Z25XTlJlaWxETWJsWVRuX0kwXCIsXG4gICAgICAgIGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJ0aHJvd3MgZXJyb3Igd2hlbiBtaXNzaW5nIHByb2R1Y3Rpb24gVVJMXCIsICgpID0+IHtcbiAgICAgIHNldE5vZGVFbnYoXCJwcm9kdWN0aW9uXCIpOyAvLyBGb3JjZSBwcm9kdWN0aW9uIG1vZGVcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gXCJ0ZXN0LWtleVwiO1xuICAgICAgLy8gTm8gVVJMIHNldFxuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gaW5pdFN1cGFiYXNlKCkpLnRvVGhyb3coXG4gICAgICAgIFwiTWlzc2luZyBTdXBhYmFzZSBjb25maWd1cmF0aW9uLiBVUkw6IGZhbHNlLCBLZXk6IHRydWVcIlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJ0aHJvd3MgZXJyb3Igd2hlbiBtaXNzaW5nIHByb2R1Y3Rpb24gYW5vbiBrZXlcIiwgKCkgPT4ge1xuICAgICAgc2V0Tm9kZUVudihcInByb2R1Y3Rpb25cIik7IC8vIEZvcmNlIHByb2R1Y3Rpb24gbW9kZVxuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfVVJMID0gXCJodHRwczovL3Rlc3Quc3VwYWJhc2UuY29cIjtcbiAgICAgIC8vIE5vIGFub24ga2V5IHNldFxuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gaW5pdFN1cGFiYXNlKCkpLnRvVGhyb3coXG4gICAgICAgIFwiTWlzc2luZyBTdXBhYmFzZSBjb25maWd1cmF0aW9uLiBVUkw6IHRydWUsIEtleTogZmFsc2VcIlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJza2lwcyBpbml0aWFsaXphdGlvbiB3aGVuIGFscmVhZHkgaW5pdGlhbGl6ZWRcIiwgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfVVJMID0gXCJodHRwczovL3Rlc3Quc3VwYWJhc2UuY29cIjtcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gXCJ0ZXN0LWFub24ta2V5XCI7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgaW5pdFN1cGFiYXNlKCk7IC8vIFNlY29uZCBjYWxsIHNob3VsZCBza2lwXG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrQ3JlYXRlQ2xpZW50KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2V0U3VwYWJhc2VDbGllbnRcIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJyZXR1cm5zIGNsaWVudCBhZnRlciBpbml0aWFsaXphdGlvblwiLCAoKSA9PiB7XG4gICAgICAvLyBTZXQgZGV2ZWxvcG1lbnQgbW9kZSB0byBlbmFibGUgZW11bGF0b3IgZGVmYXVsdHNcbiAgICAgIHNldE5vZGVFbnYoXCJkZXZlbG9wbWVudFwiKTtcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX1VSTCA9IFwiaHR0cHM6Ly90ZXN0LnN1cGFiYXNlLmNvXCI7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSA9IFwidGVzdC1hbm9uLWtleVwiO1xuICAgICAgXG4gICAgICBpbml0U3VwYWJhc2UoKTtcbiAgICAgIGNvbnN0IGNsaWVudCA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjbGllbnQpLnRvQmUobW9ja0NsaWVudCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KFwidGhyb3dzIGVycm9yIHdoZW4gbm90IGluaXRpYWxpemVkXCIsICgpID0+IHtcbiAgICAgIC8vIFNlcnZpY2UgaXMgYWxyZWFkeSByZXNldCBpbiBiZWZvcmVFYWNoXG4gICAgICBleHBlY3QoKCkgPT4gZ2V0U3VwYWJhc2VDbGllbnQoKSkudG9UaHJvdyhcbiAgICAgICAgXCJTdXBhYmFzZSBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBpbml0KCkgYmVmb3JlIGdldFN1cGFiYXNlQ2xpZW50KClcIlxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJwbGF0Zm9ybS1zcGVjaWZpYyBkaWZmZXJlbmNlc1wiLCAoKSA9PiB7XG4gICAgdGVzdChcInVzZXMgZGlmZmVyZW50IGRlZmF1bHQgaG9zdCB0aGFuIHdlYiAoMTAuMC4yLjIgdnMgMTI3LjAuMC4xKVwiLCAoKSA9PiB7XG4gICAgICBzZXROb2RlRW52KFwiZGV2ZWxvcG1lbnRcIik7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSA9IFwiZGV2LWtleVwiO1xuICAgICAgXG4gICAgICBpbml0U3VwYWJhc2UoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tDcmVhdGVDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGNvbnN0IGNhbGxzID0gbW9ja0NyZWF0ZUNsaWVudC5tb2NrLmNhbGxzO1xuICAgICAgaWYgKGNhbGxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgW3VybF0gPSBjYWxsc1swXTtcbiAgICAgICAgZXhwZWN0KHVybCkudG9CZShcImh0dHA6Ly8xMC4wLjIuMjo1NDMyMVwiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRlc3QoXCJzZXRzIGRldGVjdFNlc3Npb25JblVybCB0byBmYWxzZSBmb3IgbmF0aXZlXCIsICgpID0+IHtcbiAgICAgIC8vIFNldCBkZXZlbG9wbWVudCBtb2RlIHRvIGVuYWJsZSBlbXVsYXRvciBtb2RlXG4gICAgICBzZXROb2RlRW52KFwiZGV2ZWxvcG1lbnRcIik7XG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9VUkwgPSBcImh0dHBzOi8vdGVzdC5zdXBhYmFzZS5jb1wiO1xuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgPSBcInRlc3Qta2V5XCI7XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgY29uc3QgY2FsbHMgPSBtb2NrQ3JlYXRlQ2xpZW50Lm1vY2suY2FsbHM7XG4gICAgICBpZiAoY2FsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBbLCwgY29uZmlnXSA9IGNhbGxzWzBdO1xuICAgICAgICBleHBlY3QoY29uZmlnPy5hdXRoPy5kZXRlY3RTZXNzaW9uSW5VcmwpLnRvQmUoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImVycm9yIGhhbmRsaW5nXCIsICgpID0+IHtcbiAgICB0ZXN0KFwiaGFuZGxlcyBjcmVhdGVDbGllbnQgZXJyb3JzXCIsICgpID0+IHtcbiAgICAgIHNldE5vZGVFbnYoXCJwcm9kdWN0aW9uXCIpOyAvLyBFbnN1cmUgcHJvZHVjdGlvbiBtb2RlXG4gICAgICBwcm9jZXNzLmVudi5FWFBPX1BVQkxJQ19TVVBBQkFTRV9VUkwgPSBcImh0dHBzOi8vdGVzdC5zdXBhYmFzZS5jb1wiO1xuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgPSBcInRlc3QtYW5vbi1rZXlcIjtcbiAgICAgIFxuICAgICAgbW9ja0NyZWF0ZUNsaWVudC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGZhaWxlZFwiKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gaW5pdFN1cGFiYXNlKCkpLnRvVGhyb3coXCJDb25uZWN0aW9uIGZhaWxlZFwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJlbXVsYXRvciBkZXRlY3Rpb25cIiwgKCkgPT4ge1xuICAgIHRlc3QoXCJkZXRlY3RzIGVtdWxhdG9yIG1vZGUgd2l0aCBFWFBPX1BVQkxJQ19VU0VfU1VQQUJBU0VfRU1VTEFUT1JcIiwgKCkgPT4ge1xuICAgICAgLy8gVXNlIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0byBlbnN1cmUgdGhlIHByb3BlcnR5IGlzIHNldCBjb3JyZWN0bHkgaW4gSmVzdFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb2Nlc3MuZW52LCAnRVhQT19QVUJMSUNfVVNFX1NVUEFCQVNFX0VNVUxBVE9SJywge1xuICAgICAgICB2YWx1ZTogJ3RydWUnLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIC8vIFdoZW4gaW4gZW11bGF0b3IgbW9kZSwgc2VydmljZSBwcm92aWRlcyBkZWZhdWx0IGFub24ga2V5XG4gICAgICBcbiAgICAgIGluaXRTdXBhYmFzZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0NyZWF0ZUNsaWVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIFwiaHR0cDovLzEwLjAuMi4yOjU0MzIxXCIsXG4gICAgICAgIFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlMxa1pXMXZJaXdpY205c1pTSTZJbUZ1YjI0aUxDSmxlSEFpT2pFNU9ETTRNVEk1T1RaOS5DUlhQMUE3V09lb0plWHhqTm5pNDNrZFF3Z25XTlJlaWxETWJsWVRuX0kwXCIsXG4gICAgICAgIGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoXCJ1c2VzIHByb2R1Y3Rpb24gbW9kZSB3aGVuIGVtdWxhdG9yIGZsYWcgaXMgZmFsc2VcIiwgKCkgPT4ge1xuICAgICAgc2V0Tm9kZUVudihcInByb2R1Y3Rpb25cIik7IC8vIEV4cGxpY2l0bHkgc2V0IHByb2R1Y3Rpb24gbW9kZVxuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfVVNFX1NVUEFCQVNFX0VNVUxBVE9SID0gXCJmYWxzZVwiO1xuICAgICAgcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU1VQQUJBU0VfVVJMID0gXCJodHRwczovL3Byb2Quc3VwYWJhc2UuY29cIjtcbiAgICAgIHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZID0gXCJwcm9kLWtleVwiO1xuICAgICAgXG4gICAgICBpbml0U3VwYWJhc2UoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tDcmVhdGVDbGllbnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBcImh0dHBzOi8vcHJvZC5zdXBhYmFzZS5jb1wiLFxuICAgICAgICBcInByb2Qta2V5XCIsXG4gICAgICAgIGV4cGVjdC5hbnkoT2JqZWN0KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUdBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtFQUFBLE9BQU87SUFDeENDLFlBQVksRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDeEIsQ0FBQztBQUFBLENBQUMsRUFBRTtFQUFFQyxPQUFPLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUUsS0FBQSxHQUFBRixPQUFBO0FBTHZCLElBQUFHLFNBQUEsR0FBQUgsT0FBQTtBQUFxSCxTQUFBUCxZQUFBO0VBQUEsSUFBQVcsU0FBQSxHQUFBSixPQUFBO0lBQUFKLElBQUEsR0FBQVEsU0FBQSxDQUFBUixJQUFBO0VBQUFILFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFHLElBQUE7RUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQU9ySCxJQUFBUyxRQUFBLEdBQXlCTCxPQUFPLENBQUMsdUJBQXVCLENBQUM7RUFBakRMLFlBQVksR0FBQVUsUUFBQSxDQUFaVixZQUFZO0FBQ3BCLElBQU1XLGdCQUFnQixHQUFHWCxZQUFZO0FBR3JDLElBQU1Z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