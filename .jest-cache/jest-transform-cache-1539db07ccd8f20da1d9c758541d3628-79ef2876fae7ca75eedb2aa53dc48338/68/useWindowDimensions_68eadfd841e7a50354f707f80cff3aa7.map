{"version":3,"names":["_Dimensions","_interopRequireDefault","require","_react","useWindowDimensions","_useState","useState","Dimensions","get","_useState2","_slicedToArray2","default","dimensions","setDimensions","useEffect","handleChange","_ref","window","width","height","scale","fontScale","subscription","addEventListener","remove"],"sources":["useWindowDimensions.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\nimport Dimensions from './Dimensions';\nimport {\n  type DisplayMetrics,\n  type DisplayMetricsAndroid,\n} from './NativeDeviceInfo';\nimport {useEffect, useState} from 'react';\n\nexport default function useWindowDimensions():\n  | DisplayMetrics\n  | DisplayMetricsAndroid {\n  const [dimensions, setDimensions] = useState(() => Dimensions.get('window'));\n  useEffect(() => {\n    function handleChange({\n      window,\n    }: {\n      window: DisplayMetrics | DisplayMetricsAndroid,\n    }) {\n      if (\n        dimensions.width !== window.width ||\n        dimensions.height !== window.height ||\n        dimensions.scale !== window.scale ||\n        dimensions.fontScale !== window.fontScale\n      ) {\n        setDimensions(window);\n      }\n    }\n    const subscription = Dimensions.addEventListener('change', handleChange);\n    // We might have missed an update between calling `get` in render and\n    // `addEventListener` in this handler, so we set it here. If there was\n    // no change, React will filter out this update as a no-op.\n    handleChange({window: Dimensions.get('window')});\n    return () => {\n      subscription.remove();\n    };\n  }, [dimensions]);\n  return dimensions;\n}\n"],"mappings":";;;;;;AAUA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,MAAA,GAAAD,OAAA;AAEe,SAASE,mBAAmBA,CAAA,EAEjB;EACxB,IAAAC,SAAA,GAAoC,IAAAC,eAAQ,EAAC;MAAA,OAAMC,mBAAU,CAACC,GAAG,CAAC,QAAQ,CAAC;IAAA,EAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAN,SAAA;IAArEO,UAAU,GAAAH,UAAA;IAAEI,aAAa,GAAAJ,UAAA;EAChC,IAAAK,gBAAS,EAAC,YAAM;IACd,SAASC,YAAYA,CAAAC,IAAA,EAIlB;MAAA,IAHDC,MAAM,GAAAD,IAAA,CAANC,MAAM;MAIN,IACEL,UAAU,CAACM,KAAK,KAAKD,MAAM,CAACC,KAAK,IACjCN,UAAU,CAACO,MAAM,KAAKF,MAAM,CAACE,MAAM,IACnCP,UAAU,CAACQ,KAAK,KAAKH,MAAM,CAACG,KAAK,IACjCR,UAAU,CAACS,SAAS,KAAKJ,MAAM,CAACI,SAAS,EACzC;QACAR,aAAa,CAACI,MAAM,CAAC;MACvB;IACF;IACA,IAAMK,YAAY,GAAGf,mBAAU,CAACgB,gBAAgB,CAAC,QAAQ,EAAER,YAAY,CAAC;IAIxEA,YAAY,CAAC;MAACE,MAAM,EAAEV,mBAAU,CAACC,GAAG,CAAC,QAAQ;IAAC,CAAC,CAAC;IAChD,OAAO,YAAM;MACXc,YAAY,CAACE,MAAM,CAAC,CAAC;IACvB,CAAC;EACH,CAAC,EAAE,CAACZ,UAAU,CAAC,CAAC;EAChB,OAAOA,UAAU;AACnB","ignoreList":[]}