# Add an exercise with the given name
# Expects EXERCISE_NAME environment variable
---
appId: http://localhost:8081
timeout: 60000
---
# Ensure we're on the exercises screen before trying to add an exercise
- runFlow:
    file: navigate-to-exercises.yml

- tapOn:
    id: "add-exercise"
- takeScreenshot: "add-exercise-form-opened.png"
- tapOn:
    id: "name"
- inputText: "${EXERCISE_NAME}"
- takeScreenshot: "exercise-name-entered.png"
- tapOn:
    id: "submit"
- takeScreenshot: "after-submit.png"
# After submission, app navigates to workout screen, so wait for that
- waitForAnimationToEnd:
    timeout: 5000
- takeScreenshot: "exercise-added.png"
