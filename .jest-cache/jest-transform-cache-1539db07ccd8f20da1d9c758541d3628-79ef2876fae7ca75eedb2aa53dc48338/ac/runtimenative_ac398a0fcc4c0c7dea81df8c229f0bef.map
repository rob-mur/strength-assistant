{"version":3,"names":["_PolyfillFunctions","require","_FormData","_Symbol$asyncIterator","BUILTIN_SYMBOL","Symbol","for","addBuiltinSymbol","obj","Object","defineProperty","value","enumerable","configurable","install","name","getValue","installGlobal","TextDecoder","URL","URLSearchParams","ImportMetaRegistry","installFormDataPatch","FormData","asyncIterator"],"sources":["runtime.native.ts"],"sourcesContent":["// This file configures the runtime environment to increase compatibility with WinterCG.\n// https://wintercg.org/\n\n// @ts-ignore: PolyfillFunctions does not have types exported\nimport { polyfillGlobal as installGlobal } from 'react-native/Libraries/Utilities/PolyfillFunctions';\n\nimport { installFormDataPatch } from './FormData';\n// Add a well-known shared symbol that doesn't show up in iteration or inspection\n// this can be used to detect if the global object abides by the Expo team's documented\n// built-in requirements.\nconst BUILTIN_SYMBOL = Symbol.for('expo.builtin');\n\nfunction addBuiltinSymbol(obj: object) {\n  Object.defineProperty(obj, BUILTIN_SYMBOL, {\n    value: true,\n    enumerable: false,\n    configurable: false,\n  });\n  return obj;\n}\n\nfunction install(name: string, getValue: () => any) {\n  installGlobal(name, () => addBuiltinSymbol(getValue()));\n}\n\n// https://encoding.spec.whatwg.org/#textdecoder\ninstall('TextDecoder', () => require('./TextDecoder').TextDecoder);\n// https://url.spec.whatwg.org/#url\ninstall('URL', () => require('./url').URL);\n// https://url.spec.whatwg.org/#urlsearchparams\ninstall('URLSearchParams', () => require('./url').URLSearchParams);\n// https://streams.spec.whatwg.org/#rs\n// ReadableStream is injected by Metro as a global\n\ninstall('__ExpoImportMetaRegistry', () => require('./ImportMetaRegistry').ImportMetaRegistry);\n\ninstallFormDataPatch(FormData);\n\n// Polyfill async iterator symbol for Hermes.\n// @ts-expect-error: readonly property only applies when the engine supports it\nSymbol.asyncIterator ??= Symbol.for('Symbol.asyncIterator');\n"],"mappings":"AAIA,IAAAA,kBAAA,GAAAC,OAAA;AAEA,IAAAC,SAAA,GAAAD,OAAA;AAAkD,IAAAE,qBAAA;AAIlD,IAAMC,cAAc,GAAGC,MAAM,CAACC,GAAG,CAAC,cAAc,CAAC;AAEjD,SAASC,gBAAgBA,CAACC,GAAW,EAAE;EACrCC,MAAM,CAACC,cAAc,CAACF,GAAG,EAAEJ,cAAc,EAAE;IACzCO,KAAK,EAAE,IAAI;IACXC,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAChB,CAAC,CAAC;EACF,OAAOL,GAAG;AACZ;AAEA,SAASM,OAAOA,CAACC,IAAY,EAAEC,QAAmB,EAAE;EAClD,IAAAC,iCAAa,EAACF,IAAI,EAAE;IAAA,OAAMR,gBAAgB,CAACS,QAAQ,CAAC,CAAC,CAAC;EAAA,EAAC;AACzD;AAGAF,OAAO,CAAC,aAAa,EAAE;EAAA,OAAMb,OAAO,CAAC,eAAe,CAAC,CAACiB,WAAW;AAAA,EAAC;AAElEJ,OAAO,CAAC,KAAK,EAAE;EAAA,OAAMb,OAAO,CAAC,OAAO,CAAC,CAACkB,GAAG;AAAA,EAAC;AAE1CL,OAAO,CAAC,iBAAiB,EAAE;EAAA,OAAMb,OAAO,CAAC,OAAO,CAAC,CAACmB,eAAe;AAAA,EAAC;AAIlEN,OAAO,CAAC,0BAA0B,EAAE;EAAA,OAAMb,OAAO,CAAC,sBAAsB,CAAC,CAACoB,kBAAkB;AAAA,EAAC;AAE7F,IAAAC,8BAAoB,EAACC,QAAQ,CAAC;AAI9B,CAAApB,qBAAA,GAAAE,MAAM,CAACmB,aAAa,YAAArB,qBAAA,GAApBE,MAAM,CAACmB,aAAa,GAAKnB,MAAM,CAACC,GAAG,CAAC,sBAAsB,CAAC","ignoreList":[]}