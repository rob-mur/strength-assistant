87822ddc0945a9f2e708d08778ba984a
_getJestObj().mock('@/lib/data/supabase/SupabaseClient');
_getJestObj().mock('@/lib/data/store', function () {
  return {
    exercises$: {
      get: jest.fn(),
      set: jest.fn()
    },
    user$: {
      get: jest.fn()
    }
  };
});
_getJestObj().mock('@/lib/data/sync/syncConfig');
_getJestObj().mock('@/lib/models/Exercise');
_getJestObj().mock('uuid', function () {
  return {
    v4: jest.fn(function () {
      return 'test-uuid-123';
    })
  };
});
_getJestObj().mock('@legendapp/state', function () {
  return {
    Observable: jest.fn(),
    observe: jest.fn(),
    computed: jest.fn()
  };
}, {
  virtual: true
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _SupabaseExerciseRepo = require("@/lib/repo/SupabaseExerciseRepo");
var _Exercise = require("@/lib/models/Exercise");
var _SupabaseClient = require("@/lib/data/supabase/SupabaseClient");
var _store = require("@/lib/data/store");
var _syncConfig = require("@/lib/data/sync/syncConfig");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('SupabaseExerciseRepo', function () {
  var repo;
  var testUserId = 'test-user-123';
  var testExerciseId = 'test-exercise-123';
  var testExercise = {
    id: testExerciseId,
    name: 'Test Exercise',
    user_id: testUserId,
    created_at: '2023-01-01T00:00:00.000Z'
  };
  var mockUser = {
    id: testUserId,
    email: 'test@example.com'
  };
  var mockExercises = [testExercise];
  beforeEach(function () {
    jest.clearAllMocks();
    _SupabaseClient.supabaseClient.getCurrentUser.mockResolvedValue(mockUser);
    _store.exercises$.get.mockReturnValue(mockExercises);
    _store.exercises$.set.mockImplementation();
    _store.user$.get.mockReturnValue(mockUser);
    _Exercise.ExerciseValidator.validateExerciseInput.mockImplementation();
    _Exercise.ExerciseValidator.sanitizeExerciseName.mockImplementation(function (name) {
      return name.trim();
    });
    _syncConfig.syncExerciseToSupabase.mockResolvedValue(undefined);
    _syncConfig.deleteExerciseFromSupabase.mockResolvedValue(undefined);
    _syncConfig.syncHelpers.isSyncing.mockReturnValue(false);
    _syncConfig.syncHelpers.isOnline.mockReturnValue(true);
    _syncConfig.syncHelpers.getPendingChangesCount.mockReturnValue(0);
    _syncConfig.syncHelpers.forceSync.mockResolvedValue(undefined);
    _syncConfig.syncHelpers.hasErrors.mockReturnValue(false);
    _syncConfig.syncHelpers.getErrorMessage.mockReturnValue(null);
    repo = _SupabaseExerciseRepo.SupabaseExerciseRepo.getInstance();
  });
  describe('Singleton Pattern', function () {
    test('getInstance returns the same instance', function () {
      var repo1 = _SupabaseExerciseRepo.SupabaseExerciseRepo.getInstance();
      var repo2 = _SupabaseExerciseRepo.SupabaseExerciseRepo.getInstance();
      expect(repo1).toBe(repo2);
      expect(repo1).toBeInstanceOf(_SupabaseExerciseRepo.SupabaseExerciseRepo);
    });
  });
  describe('addExercise', function () {
    var exerciseInput = {
      name: 'Test Exercise'
    };
    test('successfully adds exercise with optimistic updates', (0, _asyncToGenerator2.default)(function* () {
      yield repo.addExercise(testUserId, exerciseInput);
      expect(_Exercise.ExerciseValidator.validateExerciseInput).toHaveBeenCalledWith(exerciseInput);
      expect(_Exercise.ExerciseValidator.sanitizeExerciseName).toHaveBeenCalledWith(exerciseInput.name);
      expect(_SupabaseClient.supabaseClient.getCurrentUser).toHaveBeenCalled();
      expect(_store.exercises$.get).toHaveBeenCalled();
      expect(_store.exercises$.set).toHaveBeenCalledWith(expect.arrayContaining([expect.objectContaining({
        id: 'test-uuid-123',
        name: exerciseInput.name.trim(),
        user_id: testUserId
      })]));
      expect(_syncConfig.syncExerciseToSupabase).toHaveBeenCalled();
    }));
    test('throws error when user not authenticated', (0, _asyncToGenerator2.default)(function* () {
      _SupabaseClient.supabaseClient.getCurrentUser.mockResolvedValue(null);
      yield expect(repo.addExercise(testUserId, exerciseInput)).rejects.toThrow('User not authenticated with Supabase');
    }));
    test('throws error when user ID mismatch', (0, _asyncToGenerator2.default)(function* () {
      _SupabaseClient.supabaseClient.getCurrentUser.mockResolvedValue({
        id: 'different-user'
      });
      yield expect(repo.addExercise(testUserId, exerciseInput)).rejects.toThrow('User ID mismatch');
    }));
    test('validates exercise input', (0, _asyncToGenerator2.default)(function* () {
      var validationError = new Error('Invalid exercise name');
      _Exercise.ExerciseValidator.validateExerciseInput.mockImplementation(function () {
        throw validationError;
      });
      yield expect(repo.addExercise(testUserId, exerciseInput)).rejects.toThrow('Invalid exercise name');
    }));
    test('rolls back optimistic update on sync failure', (0, _asyncToGenerator2.default)(function* () {
      var syncError = new Error('Sync failed');
      _syncConfig.syncExerciseToSupabase.mockRejectedValue(syncError);
      var originalExercises = [{
        id: 'existing',
        name: 'Existing'
      }];
      _store.exercises$.get.mockReturnValue(originalExercises);
      yield expect(repo.addExercise(testUserId, exerciseInput)).rejects.toThrow('Sync failed');
      expect(_store.exercises$.set).toHaveBeenCalledWith(originalExercises);
    }));
    test('handles user ID consistency check when userId is empty', (0, _asyncToGenerator2.default)(function* () {
      yield repo.addExercise('', exerciseInput);
      expect(_SupabaseClient.supabaseClient.getCurrentUser).toHaveBeenCalled();
      expect(_syncConfig.syncExerciseToSupabase).toHaveBeenCalled();
    }));
  });
  describe('getExerciseById', function () {
    test('returns exercise when found', (0, _asyncToGenerator2.default)(function* () {
      var result = yield repo.getExerciseById(testExerciseId, testUserId);
      expect(_store.exercises$.get).toHaveBeenCalled();
      expect(result).toEqual(testExercise);
    }));
    test('returns undefined when exercise not found', (0, _asyncToGenerator2.default)(function* () {
      _store.exercises$.get.mockReturnValue([]);
      var result = yield repo.getExerciseById('non-existent', testUserId);
      expect(result).toBeUndefined();
    }));
    test('filters exercises by user_id', (0, _asyncToGenerator2.default)(function* () {
      var otherUserExercise = Object.assign({}, testExercise, {
        id: 'other',
        user_id: 'other-user'
      });
      _store.exercises$.get.mockReturnValue([testExercise, otherUserExercise]);
      var result = yield repo.getExerciseById(testExerciseId, testUserId);
      expect(result).toEqual(testExercise);
    }));
  });
  describe('getExercises', function () {
    test('returns computed observable filtered by current user', function () {
      var computed = require('@legendapp/state').computed;
      var mockObservable = {
        subscribe: jest.fn()
      };
      computed.mockReturnValue(mockObservable);
      var result = repo.getExercises(testUserId);
      expect(computed).toHaveBeenCalled();
      expect(result).toBe(mockObservable);
    });
    test('computed function filters exercises by current user', function () {
      var computed = require('@legendapp/state').computed;
      var computedFunction;
      computed.mockImplementation(function (fn) {
        computedFunction = fn;
        return {
          subscribe: jest.fn()
        };
      });
      repo.getExercises(testUserId);
      var result = computedFunction();
      expect(_store.user$.get).toHaveBeenCalled();
      expect(_store.exercises$.get).toHaveBeenCalled();
      expect(result).toEqual(mockExercises);
    });
    test('returns empty array when no current user', function () {
      var computed = require('@legendapp/state').computed;
      var computedFunction;
      computed.mockImplementation(function (fn) {
        computedFunction = fn;
        return {
          subscribe: jest.fn()
        };
      });
      _store.user$.get.mockReturnValue(null);
      repo.getExercises(testUserId);
      var result = computedFunction();
      expect(result).toEqual([]);
    });
  });
  describe('deleteExercise', function () {
    test('successfully deletes exercise with optimistic update', (0, _asyncToGenerator2.default)(function* () {
      yield repo.deleteExercise(testUserId, testExerciseId);
      expect(_SupabaseClient.supabaseClient.getCurrentUser).toHaveBeenCalled();
      expect(_store.exercises$.get).toHaveBeenCalled();
      expect(_store.exercises$.set).toHaveBeenCalledWith([]);
      expect(_syncConfig.deleteExerciseFromSupabase).toHaveBeenCalledWith(testExerciseId, testUserId);
    }));
    test('validates exerciseId parameter', (0, _asyncToGenerator2.default)(function* () {
      yield expect(repo.deleteExercise(testUserId, '')).rejects.toThrow('Valid exerciseId is required');
      yield expect(repo.deleteExercise(testUserId, '   ')).rejects.toThrow('Valid exerciseId is required');
      yield expect(repo.deleteExercise(testUserId, null)).rejects.toThrow('Valid exerciseId is required');
    }));
    test('throws error when user not authenticated', (0, _asyncToGenerator2.default)(function* () {
      _SupabaseClient.supabaseClient.getCurrentUser.mockResolvedValue(null);
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('User not authenticated with Supabase');
    }));
    test('throws error when user ID mismatch', (0, _asyncToGenerator2.default)(function* () {
      _SupabaseClient.supabaseClient.getCurrentUser.mockResolvedValue({
        id: 'different-user'
      });
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('User ID mismatch');
    }));
    test('rolls back optimistic update on sync failure', (0, _asyncToGenerator2.default)(function* () {
      var syncError = new Error('Delete sync failed');
      _syncConfig.deleteExerciseFromSupabase.mockRejectedValue(syncError);
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('Delete sync failed');
      expect(_store.exercises$.set).toHaveBeenCalledWith(mockExercises);
    }));
    test('only deletes exercises matching both exerciseId and user_id', (0, _asyncToGenerator2.default)(function* () {
      var otherUserExercise = Object.assign({}, testExercise, {
        id: testExerciseId,
        user_id: 'other-user'
      });
      var userExercises = [testExercise, otherUserExercise];
      _store.exercises$.get.mockReturnValue(userExercises);
      yield repo.deleteExercise(testUserId, testExerciseId);
      expect(_store.exercises$.set).toHaveBeenCalledWith([otherUserExercise]);
    }));
  });
  describe('subscribeToExercises', function () {
    test('sets up observable subscription with user filtering', function () {
      var observe = require('@legendapp/state').observe;
      var mockUnsubscribe = jest.fn();
      var callback = jest.fn();
      observe.mockReturnValue(mockUnsubscribe);
      var result = repo.subscribeToExercises(testUserId, callback);
      expect(observe).toHaveBeenCalled();
      expect(result).toBe(mockUnsubscribe);
    });
    test('observe function calls callback with filtered exercises', function () {
      var observe = require('@legendapp/state').observe;
      var observeFunction;
      observe.mockImplementation(function (fn) {
        observeFunction = fn;
        return jest.fn();
      });
      var callback = jest.fn();
      repo.subscribeToExercises(testUserId, callback);
      observeFunction();
      expect(_store.user$.get).toHaveBeenCalled();
      expect(_store.exercises$.get).toHaveBeenCalled();
      expect(callback).toHaveBeenCalledWith(mockExercises);
    });
    test('calls callback with empty array when no current user', function () {
      var observe = require('@legendapp/state').observe;
      var observeFunction;
      observe.mockImplementation(function (fn) {
        observeFunction = fn;
        return jest.fn();
      });
      _store.user$.get.mockReturnValue(null);
      var callback = jest.fn();
      repo.subscribeToExercises(testUserId, callback);
      observeFunction();
      expect(callback).toHaveBeenCalledWith([]);
    });
  });
  describe('Offline-first capabilities', function () {
    test('isSyncing delegates to syncHelpers', function () {
      var result = repo.isSyncing();
      expect(_syncConfig.syncHelpers.isSyncing).toHaveBeenCalled();
      expect(result).toBe(false);
    });
    test('isOnline delegates to syncHelpers', function () {
      var result = repo.isOnline();
      expect(_syncConfig.syncHelpers.isOnline).toHaveBeenCalled();
      expect(result).toBe(true);
    });
    test('getPendingChangesCount delegates to syncHelpers', function () {
      var result = repo.getPendingChangesCount();
      expect(_syncConfig.syncHelpers.getPendingChangesCount).toHaveBeenCalled();
      expect(result).toBe(0);
    });
    test('forceSync delegates to syncHelpers', (0, _asyncToGenerator2.default)(function* () {
      yield repo.forceSync();
      expect(_syncConfig.syncHelpers.forceSync).toHaveBeenCalled();
    }));
    test('hasErrors delegates to syncHelpers', function () {
      var result = repo.hasErrors();
      expect(_syncConfig.syncHelpers.hasErrors).toHaveBeenCalled();
      expect(result).toBe(false);
    });
    test('getErrorMessage delegates to syncHelpers', function () {
      var result = repo.getErrorMessage();
      expect(_syncConfig.syncHelpers.getErrorMessage).toHaveBeenCalled();
      expect(result).toBe(null);
    });
    test('getErrorMessage returns null when syncHelpers returns undefined', function () {
      _syncConfig.syncHelpers.getErrorMessage.mockReturnValue(undefined);
      var result = repo.getErrorMessage();
      expect(result).toBe(null);
    });
  });
  describe('Error handling', function () {
    test('addExercise logs and re-throws errors', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Test error');
      _SupabaseClient.supabaseClient.getCurrentUser.mockRejectedValue(error);
      yield expect(repo.addExercise(testUserId, {
        name: 'Test'
      })).rejects.toThrow('Test error');
    }));
    test('deleteExercise logs and re-throws errors', (0, _asyncToGenerator2.default)(function* () {
      var error = new Error('Test error');
      _SupabaseClient.supabaseClient.getCurrentUser.mockRejectedValue(error);
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('Test error');
    }));
  });
  describe('Error recovery', function () {
    test('sync failure rolls back optimistic update for addExercise', (0, _asyncToGenerator2.default)(function* () {
      var syncError = new Error('Sync failed');
      _syncConfig.syncExerciseToSupabase.mockRejectedValue(syncError);
      var initialExercises = _store.exercises$.get();
      yield expect(repo.addExercise(testUserId, {
        name: 'Test'
      })).rejects.toThrow('Sync failed');
      expect(_store.exercises$.get()).toEqual(initialExercises);
    }));
    test('sync failure rolls back optimistic update for deleteExercise', (0, _asyncToGenerator2.default)(function* () {
      var syncError = new Error('Delete sync failed');
      _syncConfig.deleteExerciseFromSupabase.mockRejectedValue(syncError);
      var initialExercises = _store.exercises$.get();
      yield expect(repo.deleteExercise(testUserId, testExerciseId)).rejects.toThrow('Delete sync failed');
      expect(_store.exercises$.get()).toEqual(initialExercises);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJleGVyY2lzZXMkIiwiZ2V0IiwiamVzdCIsImZuIiwic2V0IiwidXNlciQiLCJ2NCIsIk9ic2VydmFibGUiLCJvYnNlcnZlIiwiY29tcHV0ZWQiLCJ2aXJ0dWFsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfU3VwYWJhc2VFeGVyY2lzZVJlcG8iLCJfRXhlcmNpc2UiLCJfU3VwYWJhc2VDbGllbnQiLCJfc3RvcmUiLCJfc3luY0NvbmZpZyIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJyZXBvIiwidGVzdFVzZXJJZCIsInRlc3RFeGVyY2lzZUlkIiwidGVzdEV4ZXJjaXNlIiwiaWQiLCJuYW1lIiwidXNlcl9pZCIsImNyZWF0ZWRfYXQiLCJtb2NrVXNlciIsImVtYWlsIiwibW9ja0V4ZXJjaXNlcyIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwic3VwYWJhc2VDbGllbnQiLCJnZXRDdXJyZW50VXNlciIsIm1vY2tSZXNvbHZlZFZhbHVlIiwibW9ja1JldHVyblZhbHVlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiRXhlcmNpc2VWYWxpZGF0b3IiLCJ2YWxpZGF0ZUV4ZXJjaXNlSW5wdXQiLCJzYW5pdGl6ZUV4ZXJjaXNlTmFtZSIsInRyaW0iLCJzeW5jRXhlcmNpc2VUb1N1cGFiYXNlIiwidW5kZWZpbmVkIiwiZGVsZXRlRXhlcmNpc2VGcm9tU3VwYWJhc2UiLCJzeW5jSGVscGVycyIsImlzU3luY2luZyIsImlzT25saW5lIiwiZ2V0UGVuZGluZ0NoYW5nZXNDb3VudCIsImZvcmNlU3luYyIsImhhc0Vycm9ycyIsImdldEVycm9yTWVzc2FnZSIsIlN1cGFiYXNlRXhlcmNpc2VSZXBvIiwiZ2V0SW5zdGFuY2UiLCJ0ZXN0IiwicmVwbzEiLCJyZXBvMiIsImV4cGVjdCIsInRvQmUiLCJ0b0JlSW5zdGFuY2VPZiIsImV4ZXJjaXNlSW5wdXQiLCJkZWZhdWx0IiwiYWRkRXhlcmNpc2UiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJhcnJheUNvbnRhaW5pbmciLCJvYmplY3RDb250YWluaW5nIiwicmVqZWN0cyIsInRvVGhyb3ciLCJ2YWxpZGF0aW9uRXJyb3IiLCJFcnJvciIsInN5bmNFcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlIiwib3JpZ2luYWxFeGVyY2lzZXMiLCJyZXN1bHQiLCJnZXRFeGVyY2lzZUJ5SWQiLCJ0b0VxdWFsIiwidG9CZVVuZGVmaW5lZCIsIm90aGVyVXNlckV4ZXJjaXNlIiwiT2JqZWN0IiwiYXNzaWduIiwibW9ja09ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJnZXRFeGVyY2lzZXMiLCJjb21wdXRlZEZ1bmN0aW9uIiwiZGVsZXRlRXhlcmNpc2UiLCJ1c2VyRXhlcmNpc2VzIiwibW9ja1Vuc3Vic2NyaWJlIiwiY2FsbGJhY2siLCJzdWJzY3JpYmVUb0V4ZXJjaXNlcyIsIm9ic2VydmVGdW5jdGlvbiIsImVycm9yIiwiaW5pdGlhbEV4ZXJjaXNlcyJdLCJzb3VyY2VzIjpbIlN1cGFiYXNlRXhlcmNpc2VSZXBvLXRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3VwYWJhc2VFeGVyY2lzZVJlcG8gfSBmcm9tICdAL2xpYi9yZXBvL1N1cGFiYXNlRXhlcmNpc2VSZXBvJztcbmltcG9ydCB7IEV4ZXJjaXNlLCBFeGVyY2lzZUlucHV0LCBFeGVyY2lzZVZhbGlkYXRvciB9IGZyb20gJ0AvbGliL21vZGVscy9FeGVyY2lzZSc7XG5pbXBvcnQgeyBzdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvbGliL2RhdGEvc3VwYWJhc2UvU3VwYWJhc2VDbGllbnQnO1xuaW1wb3J0IHsgZXhlcmNpc2VzJCwgdXNlciQgfSBmcm9tICdAL2xpYi9kYXRhL3N0b3JlJztcbmltcG9ydCB7IHN5bmNFeGVyY2lzZVRvU3VwYWJhc2UsIGRlbGV0ZUV4ZXJjaXNlRnJvbVN1cGFiYXNlLCBzeW5jSGVscGVycyB9IGZyb20gJ0AvbGliL2RhdGEvc3luYy9zeW5jQ29uZmlnJztcblxuLy8gTW9jayBhbGwgZXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ0AvbGliL2RhdGEvc3VwYWJhc2UvU3VwYWJhc2VDbGllbnQnKTtcbmplc3QubW9jaygnQC9saWIvZGF0YS9zdG9yZScsICgpID0+ICh7XG4gIGV4ZXJjaXNlcyQ6IHtcbiAgICBnZXQ6IGplc3QuZm4oKSxcbiAgICBzZXQ6IGplc3QuZm4oKSxcbiAgfSxcbiAgdXNlciQ6IHtcbiAgICBnZXQ6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcbmplc3QubW9jaygnQC9saWIvZGF0YS9zeW5jL3N5bmNDb25maWcnKTtcbmplc3QubW9jaygnQC9saWIvbW9kZWxzL0V4ZXJjaXNlJyk7XG5qZXN0Lm1vY2soJ3V1aWQnLCAoKSA9PiAoe1xuICB2NDogamVzdC5mbigoKSA9PiAndGVzdC11dWlkLTEyMycpLFxufSkpO1xuXG4vLyBNb2NrIEBsZWdlbmRhcHAvc3RhdGVcbmplc3QubW9jaygnQGxlZ2VuZGFwcC9zdGF0ZScsICgpID0+ICh7XG4gIE9ic2VydmFibGU6IGplc3QuZm4oKSxcbiAgb2JzZXJ2ZTogamVzdC5mbigpLFxuICBjb21wdXRlZDogamVzdC5mbigpLFxufSksIHsgdmlydHVhbDogdHJ1ZSB9KTtcblxuZGVzY3JpYmUoJ1N1cGFiYXNlRXhlcmNpc2VSZXBvJywgKCkgPT4ge1xuICBsZXQgcmVwbzogU3VwYWJhc2VFeGVyY2lzZVJlcG87XG4gIGNvbnN0IHRlc3RVc2VySWQgPSAndGVzdC11c2VyLTEyMyc7XG4gIGNvbnN0IHRlc3RFeGVyY2lzZUlkID0gJ3Rlc3QtZXhlcmNpc2UtMTIzJztcbiAgY29uc3QgdGVzdEV4ZXJjaXNlOiBFeGVyY2lzZSA9IHtcbiAgICBpZDogdGVzdEV4ZXJjaXNlSWQsXG4gICAgbmFtZTogJ1Rlc3QgRXhlcmNpc2UnLFxuICAgIHVzZXJfaWQ6IHRlc3RVc2VySWQsXG4gICAgY3JlYXRlZF9hdDogJzIwMjMtMDEtMDFUMDA6MDA6MDAuMDAwWidcbiAgfTtcblxuICBjb25zdCBtb2NrVXNlciA9IHsgaWQ6IHRlc3RVc2VySWQsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfTtcbiAgY29uc3QgbW9ja0V4ZXJjaXNlcyA9IFt0ZXN0RXhlcmNpc2VdO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIFJlc2V0IGFsbCBtb2Nrc1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuXG4gICAgLy8gU2V0dXAgZGVmYXVsdCBtb2NrIGltcGxlbWVudGF0aW9uc1xuICAgIChzdXBhYmFzZUNsaWVudC5nZXRDdXJyZW50VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyKTtcbiAgICAoZXhlcmNpc2VzJC5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja0V4ZXJjaXNlcyk7XG4gICAgKGV4ZXJjaXNlcyQuc2V0IGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG4gICAgKHVzZXIkLmdldCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrVXNlcik7XG4gICAgKEV4ZXJjaXNlVmFsaWRhdG9yLnZhbGlkYXRlRXhlcmNpc2VJbnB1dCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuICAgIChFeGVyY2lzZVZhbGlkYXRvci5zYW5pdGl6ZUV4ZXJjaXNlTmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigobmFtZTogc3RyaW5nKSA9PiBuYW1lLnRyaW0oKSk7XG4gICAgKHN5bmNFeGVyY2lzZVRvU3VwYWJhc2UgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgIChkZWxldGVFeGVyY2lzZUZyb21TdXBhYmFzZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgXG4gICAgLy8gTW9jayBzeW5jSGVscGVyc1xuICAgIChzeW5jSGVscGVycy5pc1N5bmNpbmcgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoZmFsc2UpO1xuICAgIChzeW5jSGVscGVycy5pc09ubGluZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcbiAgICAoc3luY0hlbHBlcnMuZ2V0UGVuZGluZ0NoYW5nZXNDb3VudCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgwKTtcbiAgICAoc3luY0hlbHBlcnMuZm9yY2VTeW5jIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgICAoc3luY0hlbHBlcnMuaGFzRXJyb3JzIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKGZhbHNlKTtcbiAgICAoc3luY0hlbHBlcnMuZ2V0RXJyb3JNZXNzYWdlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG51bGwpO1xuXG4gICAgcmVwbyA9IFN1cGFiYXNlRXhlcmNpc2VSZXBvLmdldEluc3RhbmNlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTaW5nbGV0b24gUGF0dGVybicsICgpID0+IHtcbiAgICB0ZXN0KCdnZXRJbnN0YW5jZSByZXR1cm5zIHRoZSBzYW1lIGluc3RhbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVwbzEgPSBTdXBhYmFzZUV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgICAgY29uc3QgcmVwbzIgPSBTdXBhYmFzZUV4ZXJjaXNlUmVwby5nZXRJbnN0YW5jZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVwbzEpLnRvQmUocmVwbzIpO1xuICAgICAgZXhwZWN0KHJlcG8xKS50b0JlSW5zdGFuY2VPZihTdXBhYmFzZUV4ZXJjaXNlUmVwbyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhZGRFeGVyY2lzZScsICgpID0+IHtcbiAgICBjb25zdCBleGVyY2lzZUlucHV0OiBFeGVyY2lzZUlucHV0ID0geyBuYW1lOiAnVGVzdCBFeGVyY2lzZScgfTtcblxuICAgIHRlc3QoJ3N1Y2Nlc3NmdWxseSBhZGRzIGV4ZXJjaXNlIHdpdGggb3B0aW1pc3RpYyB1cGRhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVwby5hZGRFeGVyY2lzZSh0ZXN0VXNlcklkLCBleGVyY2lzZUlucHV0KTtcblxuICAgICAgZXhwZWN0KEV4ZXJjaXNlVmFsaWRhdG9yLnZhbGlkYXRlRXhlcmNpc2VJbnB1dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhlcmNpc2VJbnB1dCk7XG4gICAgICBleHBlY3QoRXhlcmNpc2VWYWxpZGF0b3Iuc2FuaXRpemVFeGVyY2lzZU5hbWUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4ZXJjaXNlSW5wdXQubmFtZSk7XG4gICAgICBleHBlY3Qoc3VwYWJhc2VDbGllbnQuZ2V0Q3VycmVudFVzZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLmdldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KGV4ZXJjaXNlcyQuc2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LmFycmF5Q29udGFpbmluZyhbXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgaWQ6ICd0ZXN0LXV1aWQtMTIzJyxcbiAgICAgICAgICAgIG5hbWU6IGV4ZXJjaXNlSW5wdXQubmFtZS50cmltKCksXG4gICAgICAgICAgICB1c2VyX2lkOiB0ZXN0VXNlcklkXG4gICAgICAgICAgfSlcbiAgICAgICAgXSlcbiAgICAgICk7XG4gICAgICBleHBlY3Qoc3luY0V4ZXJjaXNlVG9TdXBhYmFzZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgndGhyb3dzIGVycm9yIHdoZW4gdXNlciBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIChzdXBhYmFzZUNsaWVudC5nZXRDdXJyZW50VXNlciBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwby5hZGRFeGVyY2lzZSh0ZXN0VXNlcklkLCBleGVyY2lzZUlucHV0KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCB3aXRoIFN1cGFiYXNlJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd0aHJvd3MgZXJyb3Igd2hlbiB1c2VyIElEIG1pc21hdGNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlQ2xpZW50LmdldEN1cnJlbnRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBpZDogJ2RpZmZlcmVudC11c2VyJyB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uYWRkRXhlcmNpc2UodGVzdFVzZXJJZCwgZXhlcmNpc2VJbnB1dCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ1VzZXIgSUQgbWlzbWF0Y2gnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3ZhbGlkYXRlcyBleGVyY2lzZSBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvciA9IG5ldyBFcnJvcignSW52YWxpZCBleGVyY2lzZSBuYW1lJyk7XG4gICAgICAoRXhlcmNpc2VWYWxpZGF0b3IudmFsaWRhdGVFeGVyY2lzZUlucHV0IGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgdmFsaWRhdGlvbkVycm9yO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmFkZEV4ZXJjaXNlKHRlc3RVc2VySWQsIGV4ZXJjaXNlSW5wdXQpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdJbnZhbGlkIGV4ZXJjaXNlIG5hbWUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3JvbGxzIGJhY2sgb3B0aW1pc3RpYyB1cGRhdGUgb24gc3luYyBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3luY0Vycm9yID0gbmV3IEVycm9yKCdTeW5jIGZhaWxlZCcpO1xuICAgICAgKHN5bmNFeGVyY2lzZVRvU3VwYWJhc2UgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShzeW5jRXJyb3IpO1xuXG4gICAgICBjb25zdCBvcmlnaW5hbEV4ZXJjaXNlcyA9IFt7IGlkOiAnZXhpc3RpbmcnLCBuYW1lOiAnRXhpc3RpbmcnIH1dO1xuICAgICAgKGV4ZXJjaXNlcyQuZ2V0IGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG9yaWdpbmFsRXhlcmNpc2VzKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uYWRkRXhlcmNpc2UodGVzdFVzZXJJZCwgZXhlcmNpc2VJbnB1dCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ1N5bmMgZmFpbGVkJyk7XG5cbiAgICAgIC8vIFNob3VsZCByb2xsIGJhY2sgdG8gb3JpZ2luYWwgc3RhdGVcbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLnNldCkudG9IYXZlQmVlbkNhbGxlZFdpdGgob3JpZ2luYWxFeGVyY2lzZXMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnaGFuZGxlcyB1c2VyIElEIGNvbnNpc3RlbmN5IGNoZWNrIHdoZW4gdXNlcklkIGlzIGVtcHR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVwby5hZGRFeGVyY2lzZSgnJywgZXhlcmNpc2VJbnB1dCk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBub3QgdGhyb3cgZXJyb3Igd2hlbiBlbXB0eSB1c2VySWQgaXMgcHJvdmlkZWRcbiAgICAgIGV4cGVjdChzdXBhYmFzZUNsaWVudC5nZXRDdXJyZW50VXNlcikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHN5bmNFeGVyY2lzZVRvU3VwYWJhc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldEV4ZXJjaXNlQnlJZCcsICgpID0+IHtcbiAgICB0ZXN0KCdyZXR1cm5zIGV4ZXJjaXNlIHdoZW4gZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvLmdldEV4ZXJjaXNlQnlJZCh0ZXN0RXhlcmNpc2VJZCwgdGVzdFVzZXJJZCk7XG5cbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLmdldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh0ZXN0RXhlcmNpc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgncmV0dXJucyB1bmRlZmluZWQgd2hlbiBleGVyY2lzZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZXhlcmNpc2VzJC5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoW10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvLmdldEV4ZXJjaXNlQnlJZCgnbm9uLWV4aXN0ZW50JywgdGVzdFVzZXJJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2ZpbHRlcnMgZXhlcmNpc2VzIGJ5IHVzZXJfaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvdGhlclVzZXJFeGVyY2lzZSA9IHsgLi4udGVzdEV4ZXJjaXNlLCBpZDogJ290aGVyJywgdXNlcl9pZDogJ290aGVyLXVzZXInIH07XG4gICAgICAoZXhlcmNpc2VzJC5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoW3Rlc3RFeGVyY2lzZSwgb3RoZXJVc2VyRXhlcmNpc2VdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwby5nZXRFeGVyY2lzZUJ5SWQodGVzdEV4ZXJjaXNlSWQsIHRlc3RVc2VySWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHRlc3RFeGVyY2lzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRFeGVyY2lzZXMnLCAoKSA9PiB7XG4gICAgdGVzdCgncmV0dXJucyBjb21wdXRlZCBvYnNlcnZhYmxlIGZpbHRlcmVkIGJ5IGN1cnJlbnQgdXNlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gcmVxdWlyZSgnQGxlZ2VuZGFwcC9zdGF0ZScpLmNvbXB1dGVkO1xuICAgICAgY29uc3QgbW9ja09ic2VydmFibGUgPSB7IHN1YnNjcmliZTogamVzdC5mbigpIH07XG4gICAgICBjb21wdXRlZC5tb2NrUmV0dXJuVmFsdWUobW9ja09ic2VydmFibGUpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSByZXBvLmdldEV4ZXJjaXNlcyh0ZXN0VXNlcklkKTtcblxuICAgICAgZXhwZWN0KGNvbXB1dGVkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKG1vY2tPYnNlcnZhYmxlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2NvbXB1dGVkIGZ1bmN0aW9uIGZpbHRlcnMgZXhlcmNpc2VzIGJ5IGN1cnJlbnQgdXNlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gcmVxdWlyZSgnQGxlZ2VuZGFwcC9zdGF0ZScpLmNvbXB1dGVkO1xuICAgICAgbGV0IGNvbXB1dGVkRnVuY3Rpb246ICgpID0+IEV4ZXJjaXNlW107XG5cbiAgICAgIGNvbXB1dGVkLm1vY2tJbXBsZW1lbnRhdGlvbigoZm46ICgpID0+IEV4ZXJjaXNlW10pID0+IHtcbiAgICAgICAgY29tcHV0ZWRGdW5jdGlvbiA9IGZuO1xuICAgICAgICByZXR1cm4geyBzdWJzY3JpYmU6IGplc3QuZm4oKSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJlcG8uZ2V0RXhlcmNpc2VzKHRlc3RVc2VySWQpO1xuXG4gICAgICAvLyBUZXN0IHRoZSBjb21wdXRlZCBmdW5jdGlvblxuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcHV0ZWRGdW5jdGlvbiEoKTtcbiAgICAgIGV4cGVjdCh1c2VyJC5nZXQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLmdldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrRXhlcmNpc2VzKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3JldHVybnMgZW1wdHkgYXJyYXkgd2hlbiBubyBjdXJyZW50IHVzZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IHJlcXVpcmUoJ0BsZWdlbmRhcHAvc3RhdGUnKS5jb21wdXRlZDtcbiAgICAgIGxldCBjb21wdXRlZEZ1bmN0aW9uOiAoKSA9PiBFeGVyY2lzZVtdO1xuXG4gICAgICBjb21wdXRlZC5tb2NrSW1wbGVtZW50YXRpb24oKGZuOiAoKSA9PiBFeGVyY2lzZVtdKSA9PiB7XG4gICAgICAgIGNvbXB1dGVkRnVuY3Rpb24gPSBmbjtcbiAgICAgICAgcmV0dXJuIHsgc3Vic2NyaWJlOiBqZXN0LmZuKCkgfTtcbiAgICAgIH0pO1xuXG4gICAgICAodXNlciQuZ2V0IGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG51bGwpO1xuXG4gICAgICByZXBvLmdldEV4ZXJjaXNlcyh0ZXN0VXNlcklkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcHV0ZWRGdW5jdGlvbiEoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlRXhlcmNpc2UnLCAoKSA9PiB7XG4gICAgdGVzdCgnc3VjY2Vzc2Z1bGx5IGRlbGV0ZXMgZXhlcmNpc2Ugd2l0aCBvcHRpbWlzdGljIHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlcG8uZGVsZXRlRXhlcmNpc2UodGVzdFVzZXJJZCwgdGVzdEV4ZXJjaXNlSWQpO1xuXG4gICAgICBleHBlY3Qoc3VwYWJhc2VDbGllbnQuZ2V0Q3VycmVudFVzZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLmdldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KGV4ZXJjaXNlcyQuc2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXSk7XG4gICAgICBleHBlY3QoZGVsZXRlRXhlcmNpc2VGcm9tU3VwYWJhc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRlc3RFeGVyY2lzZUlkLCB0ZXN0VXNlcklkKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3ZhbGlkYXRlcyBleGVyY2lzZUlkIHBhcmFtZXRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmRlbGV0ZUV4ZXJjaXNlKHRlc3RVc2VySWQsICcnKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnVmFsaWQgZXhlcmNpc2VJZCBpcyByZXF1aXJlZCcpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwby5kZWxldGVFeGVyY2lzZSh0ZXN0VXNlcklkLCAnICAgJykpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ1ZhbGlkIGV4ZXJjaXNlSWQgaXMgcmVxdWlyZWQnKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uZGVsZXRlRXhlcmNpc2UodGVzdFVzZXJJZCwgbnVsbCBhcyBhbnkpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdWYWxpZCBleGVyY2lzZUlkIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd0aHJvd3MgZXJyb3Igd2hlbiB1c2VyIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlQ2xpZW50LmdldEN1cnJlbnRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobnVsbCk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmRlbGV0ZUV4ZXJjaXNlKHRlc3RVc2VySWQsIHRlc3RFeGVyY2lzZUlkKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnVXNlciBub3QgYXV0aGVudGljYXRlZCB3aXRoIFN1cGFiYXNlJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd0aHJvd3MgZXJyb3Igd2hlbiB1c2VyIElEIG1pc21hdGNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKHN1cGFiYXNlQ2xpZW50LmdldEN1cnJlbnRVc2VyIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoeyBpZDogJ2RpZmZlcmVudC11c2VyJyB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG8uZGVsZXRlRXhlcmNpc2UodGVzdFVzZXJJZCwgdGVzdEV4ZXJjaXNlSWQpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdVc2VyIElEIG1pc21hdGNoJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdyb2xscyBiYWNrIG9wdGltaXN0aWMgdXBkYXRlIG9uIHN5bmMgZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN5bmNFcnJvciA9IG5ldyBFcnJvcignRGVsZXRlIHN5bmMgZmFpbGVkJyk7XG4gICAgICAoZGVsZXRlRXhlcmNpc2VGcm9tU3VwYWJhc2UgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShzeW5jRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwby5kZWxldGVFeGVyY2lzZSh0ZXN0VXNlcklkLCB0ZXN0RXhlcmNpc2VJZCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ0RlbGV0ZSBzeW5jIGZhaWxlZCcpO1xuXG4gICAgICAvLyBTaG91bGQgcm9sbCBiYWNrIHRvIG9yaWdpbmFsIHN0YXRlXG4gICAgICBleHBlY3QoZXhlcmNpc2VzJC5zZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tFeGVyY2lzZXMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnb25seSBkZWxldGVzIGV4ZXJjaXNlcyBtYXRjaGluZyBib3RoIGV4ZXJjaXNlSWQgYW5kIHVzZXJfaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvdGhlclVzZXJFeGVyY2lzZSA9IHsgLi4udGVzdEV4ZXJjaXNlLCBpZDogdGVzdEV4ZXJjaXNlSWQsIHVzZXJfaWQ6ICdvdGhlci11c2VyJyB9O1xuICAgICAgY29uc3QgdXNlckV4ZXJjaXNlcyA9IFt0ZXN0RXhlcmNpc2UsIG90aGVyVXNlckV4ZXJjaXNlXTtcbiAgICAgIChleGVyY2lzZXMkLmdldCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh1c2VyRXhlcmNpc2VzKTtcblxuICAgICAgYXdhaXQgcmVwby5kZWxldGVFeGVyY2lzZSh0ZXN0VXNlcklkLCB0ZXN0RXhlcmNpc2VJZCk7XG5cbiAgICAgIC8vIFNob3VsZCBvbmx5IHJlbW92ZSB0aGUgZXhlcmNpc2UgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAgICAgIGV4cGVjdChleGVyY2lzZXMkLnNldCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW290aGVyVXNlckV4ZXJjaXNlXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzdWJzY3JpYmVUb0V4ZXJjaXNlcycsICgpID0+IHtcbiAgICB0ZXN0KCdzZXRzIHVwIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIHdpdGggdXNlciBmaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvYnNlcnZlID0gcmVxdWlyZSgnQGxlZ2VuZGFwcC9zdGF0ZScpLm9ic2VydmU7XG4gICAgICBjb25zdCBtb2NrVW5zdWJzY3JpYmUgPSBqZXN0LmZuKCk7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGplc3QuZm4oKTtcblxuICAgICAgb2JzZXJ2ZS5tb2NrUmV0dXJuVmFsdWUobW9ja1Vuc3Vic2NyaWJlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gcmVwby5zdWJzY3JpYmVUb0V4ZXJjaXNlcyh0ZXN0VXNlcklkLCBjYWxsYmFjayk7XG5cbiAgICAgIGV4cGVjdChvYnNlcnZlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKG1vY2tVbnN1YnNjcmliZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdvYnNlcnZlIGZ1bmN0aW9uIGNhbGxzIGNhbGxiYWNrIHdpdGggZmlsdGVyZWQgZXhlcmNpc2VzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb2JzZXJ2ZSA9IHJlcXVpcmUoJ0BsZWdlbmRhcHAvc3RhdGUnKS5vYnNlcnZlO1xuICAgICAgbGV0IG9ic2VydmVGdW5jdGlvbjogKCkgPT4gdm9pZDtcblxuICAgICAgb2JzZXJ2ZS5tb2NrSW1wbGVtZW50YXRpb24oKGZuOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIG9ic2VydmVGdW5jdGlvbiA9IGZuO1xuICAgICAgICByZXR1cm4gamVzdC5mbigpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gamVzdC5mbigpO1xuICAgICAgcmVwby5zdWJzY3JpYmVUb0V4ZXJjaXNlcyh0ZXN0VXNlcklkLCBjYWxsYmFjayk7XG5cbiAgICAgIG9ic2VydmVGdW5jdGlvbiEoKTtcblxuICAgICAgZXhwZWN0KHVzZXIkLmdldCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KGV4ZXJjaXNlcyQuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QoY2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tFeGVyY2lzZXMpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnY2FsbHMgY2FsbGJhY2sgd2l0aCBlbXB0eSBhcnJheSB3aGVuIG5vIGN1cnJlbnQgdXNlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IG9ic2VydmUgPSByZXF1aXJlKCdAbGVnZW5kYXBwL3N0YXRlJykub2JzZXJ2ZTtcbiAgICAgIGxldCBvYnNlcnZlRnVuY3Rpb246ICgpID0+IHZvaWQ7XG5cbiAgICAgIG9ic2VydmUubW9ja0ltcGxlbWVudGF0aW9uKChmbjogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBvYnNlcnZlRnVuY3Rpb24gPSBmbjtcbiAgICAgICAgcmV0dXJuIGplc3QuZm4oKTtcbiAgICAgIH0pO1xuXG4gICAgICAodXNlciQuZ2V0IGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG51bGwpO1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBcbiAgICAgIHJlcG8uc3Vic2NyaWJlVG9FeGVyY2lzZXModGVzdFVzZXJJZCwgY2FsbGJhY2spO1xuICAgICAgb2JzZXJ2ZUZ1bmN0aW9uISgpO1xuXG4gICAgICBleHBlY3QoY2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09mZmxpbmUtZmlyc3QgY2FwYWJpbGl0aWVzJywgKCkgPT4ge1xuICAgIHRlc3QoJ2lzU3luY2luZyBkZWxlZ2F0ZXMgdG8gc3luY0hlbHBlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSByZXBvLmlzU3luY2luZygpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc3luY0hlbHBlcnMuaXNTeW5jaW5nKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2lzT25saW5lIGRlbGVnYXRlcyB0byBzeW5jSGVscGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uaXNPbmxpbmUoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN5bmNIZWxwZXJzLmlzT25saW5lKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZ2V0UGVuZGluZ0NoYW5nZXNDb3VudCBkZWxlZ2F0ZXMgdG8gc3luY0hlbHBlcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSByZXBvLmdldFBlbmRpbmdDaGFuZ2VzQ291bnQoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN5bmNIZWxwZXJzLmdldFBlbmRpbmdDaGFuZ2VzQ291bnQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdmb3JjZVN5bmMgZGVsZWdhdGVzIHRvIHN5bmNIZWxwZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVwby5mb3JjZVN5bmMoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHN5bmNIZWxwZXJzLmZvcmNlU3luYykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnaGFzRXJyb3JzIGRlbGVnYXRlcyB0byBzeW5jSGVscGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uaGFzRXJyb3JzKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzeW5jSGVscGVycy5oYXNFcnJvcnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZ2V0RXJyb3JNZXNzYWdlIGRlbGVnYXRlcyB0byBzeW5jSGVscGVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uZ2V0RXJyb3JNZXNzYWdlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzeW5jSGVscGVycy5nZXRFcnJvck1lc3NhZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUobnVsbCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdnZXRFcnJvck1lc3NhZ2UgcmV0dXJucyBudWxsIHdoZW4gc3luY0hlbHBlcnMgcmV0dXJucyB1bmRlZmluZWQnLCAoKSA9PiB7XG4gICAgICAoc3luY0hlbHBlcnMuZ2V0RXJyb3JNZXNzYWdlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcG8uZ2V0RXJyb3JNZXNzYWdlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUobnVsbCk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgZGVzY3JpYmUoJ0Vycm9yIGhhbmRsaW5nJywgKCkgPT4ge1xuICAgIHRlc3QoJ2FkZEV4ZXJjaXNlIGxvZ3MgYW5kIHJlLXRocm93cyBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgXG4gICAgICAoc3VwYWJhc2VDbGllbnQuZ2V0Q3VycmVudFVzZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShlcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmFkZEV4ZXJjaXNlKHRlc3RVc2VySWQsIHsgbmFtZTogJ1Rlc3QnIH0pKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdUZXN0IGVycm9yJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZWxldGVFeGVyY2lzZSBsb2dzIGFuZCByZS10aHJvd3MgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIFxuICAgICAgKHN1cGFiYXNlQ2xpZW50LmdldEN1cnJlbnRVc2VyIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoZXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwby5kZWxldGVFeGVyY2lzZSh0ZXN0VXNlcklkLCB0ZXN0RXhlcmNpc2VJZCkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ1Rlc3QgZXJyb3InKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIHJlY292ZXJ5JywgKCkgPT4ge1xuICAgIHRlc3QoJ3N5bmMgZmFpbHVyZSByb2xscyBiYWNrIG9wdGltaXN0aWMgdXBkYXRlIGZvciBhZGRFeGVyY2lzZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN5bmNFcnJvciA9IG5ldyBFcnJvcignU3luYyBmYWlsZWQnKTtcbiAgICAgIChzeW5jRXhlcmNpc2VUb1N1cGFiYXNlIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoc3luY0Vycm9yKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGluaXRpYWwgc3RhdGVcbiAgICAgIGNvbnN0IGluaXRpYWxFeGVyY2lzZXMgPSBleGVyY2lzZXMkLmdldCgpO1xuXG4gICAgICBhd2FpdCBleHBlY3QocmVwby5hZGRFeGVyY2lzZSh0ZXN0VXNlcklkLCB7IG5hbWU6ICdUZXN0JyB9KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnU3luYyBmYWlsZWQnKTtcblxuICAgICAgLy8gVmVyaWZ5IHJvbGxiYWNrIG9jY3VycmVkXG4gICAgICBleHBlY3QoZXhlcmNpc2VzJC5nZXQoKSkudG9FcXVhbChpbml0aWFsRXhlcmNpc2VzKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3N5bmMgZmFpbHVyZSByb2xscyBiYWNrIG9wdGltaXN0aWMgdXBkYXRlIGZvciBkZWxldGVFeGVyY2lzZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN5bmNFcnJvciA9IG5ldyBFcnJvcignRGVsZXRlIHN5bmMgZmFpbGVkJyk7XG4gICAgICAoZGVsZXRlRXhlcmNpc2VGcm9tU3VwYWJhc2UgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShzeW5jRXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBHZXQgaW5pdGlhbCBzdGF0ZVxuICAgICAgY29uc3QgaW5pdGlhbEV4ZXJjaXNlcyA9IGV4ZXJjaXNlcyQuZ2V0KCk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvLmRlbGV0ZUV4ZXJjaXNlKHRlc3RVc2VySWQsIHRlc3RFeGVyY2lzZUlkKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnRGVsZXRlIHN5bmMgZmFpbGVkJyk7XG5cbiAgICAgIC8vIFZlcmlmeSByb2xsYmFjayBvY2N1cnJlZFxuICAgICAgZXhwZWN0KGV4ZXJjaXNlcyQuZ2V0KCkpLnRvRXF1YWwoaW5pdGlhbEV4ZXJjaXNlcyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdz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