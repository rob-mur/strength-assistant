a76bcd1156a7f7727d1719df3c781129
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getImageInfoAsync = getImageInfoAsync;
exports.isImageType = isImageType;
var _AssetUris = require("./AssetUris");
function isImageType(type) {
  return /^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(type);
}
function getImageInfoAsync(url) {
  if (typeof window === 'undefined') {
    return Promise.resolve({
      name: (0, _AssetUris.getFilename)(url),
      width: 0,
      height: 0
    });
  }
  return new Promise(function (resolve, reject) {
    var img = new Image();
    img.onerror = reject;
    img.onload = function () {
      resolve({
        name: (0, _AssetUris.getFilename)(url),
        width: img.naturalWidth,
        height: img.naturalHeight
      });
    };
    img.src = url;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQXNzZXRVcmlzIiwicmVxdWlyZSIsImlzSW1hZ2VUeXBlIiwidHlwZSIsInRlc3QiLCJnZXRJbWFnZUluZm9Bc3luYyIsInVybCIsIndpbmRvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwibmFtZSIsImdldEZpbGVuYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9uZXJyb3IiLCJvbmxvYWQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0Iiwic3JjIl0sInNvdXJjZXMiOlsiLi4vc3JjL0ltYWdlQXNzZXRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuaW1wb3J0IHsgZ2V0RmlsZW5hbWUgfSBmcm9tICcuL0Fzc2V0VXJpcyc7XG5cbnR5cGUgSW1hZ2VJbmZvID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2VUeXBlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gL14oanBlZ3xqcGd8Z2lmfHBuZ3xibXB8d2VicHxoZWljKSQvaS50ZXN0KHR5cGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VJbmZvQXN5bmModXJsOiBzdHJpbmcpOiBQcm9taXNlPEltYWdlSW5mbz4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgbmFtZTogZ2V0RmlsZW5hbWUodXJsKSwgd2lkdGg6IDAsIGhlaWdodDogMCB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgbmFtZTogZ2V0RmlsZW5hbWUodXJsKSxcbiAgICAgICAgd2lkdGg6IGltZy5uYXR1cmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1nLm5hdHVyYWxIZWlnaHQsXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGltZy5zcmMgPSB1cmw7XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUNBLElBQUFBLFVBQUEsR0FBQUMsT0FBQTtBQVFNLFNBQVVDLFdBQVdBLENBQUNDLElBQVk7RUFDdEMsT0FBTyxxQ0FBcUMsQ0FBQ0MsSUFBSSxDQUFDRCxJQUFJLENBQUM7QUFDekQ7QUFFTSxTQUFVRSxpQkFBaUJBLENBQUNDLEdBQVc7RUFDM0MsSUFBSSxPQUFPQyxNQUFNLEtBQUssV0FBVyxFQUFFO0lBQ2pDLE9BQU9DLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO01BQUVDLElBQUksRUFBRSxJQUFBQyxzQkFBVyxFQUFDTCxHQUFHLENBQUM7TUFBRU0sS0FBSyxFQUFFLENBQUM7TUFBRUMsTUFBTSxFQUFFO0lBQUMsQ0FBRSxDQUFDO0VBQ3pFO0VBQ0EsT0FBTyxJQUFJTCxPQUFPLENBQUMsVUFBQ0MsT0FBTyxFQUFFSyxNQUFNLEVBQUk7SUFDckMsSUFBTUMsR0FBRyxHQUFHLElBQUlDLEtBQUssRUFBRTtJQUN2QkQsR0FBRyxDQUFDRSxPQUFPLEdBQUdILE1BQU07SUFDcEJDLEdBQUcsQ0FBQ0csTUFBTSxHQUFHLFlBQUs7TUFDaEJULE9BQU8sQ0FBQztRQUNOQyxJQUFJLEVBQUUsSUFBQUMsc0JBQVcsRUFBQ0wsR0FBRyxDQUFDO1FBQ3RCTSxLQUFLLEVBQUVHLEdBQUcsQ0FBQ0ksWUFBWTtRQUN2Qk4sTUFBTSxFQUFFRSxHQUFHLENBQUNLO09BQ2IsQ0FBQztJQUNKLENBQUM7SUFDREwsR0FBRyxDQUFDTSxHQUFHLEdBQUdmLEdBQUc7RUFDZixDQUFDLENBQUM7QUFDSiIsImlnbm9yZUxpc3QiOltdfQ==