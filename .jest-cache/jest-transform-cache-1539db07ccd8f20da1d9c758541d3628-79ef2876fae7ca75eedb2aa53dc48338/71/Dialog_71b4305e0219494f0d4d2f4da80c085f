6c2badf59178dde3360e87db666c9ace
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var React = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeSafeAreaContext = require("react-native-safe-area-context");
var _DialogActions = _interopRequireDefault(require("./DialogActions"));
var _DialogContent = _interopRequireDefault(require("./DialogContent"));
var _DialogIcon = _interopRequireDefault(require("./DialogIcon"));
var _DialogScrollArea = _interopRequireDefault(require("./DialogScrollArea"));
var _DialogTitle = _interopRequireDefault(require("./DialogTitle"));
var _theming = require("../../core/theming");
var _overlay = _interopRequireDefault(require("../../styles/overlay"));
var _Modal = _interopRequireDefault(require("../Modal"));
function _interopRequireDefault(e) {
  return e && e.__esModule ? e : {
    default: e
  };
}
function _interopRequireWildcard(e, t) {
  if ("function" == typeof WeakMap) var r = new WeakMap(),
    n = new WeakMap();
  return (_interopRequireWildcard = function _interopRequireWildcard(e, t) {
    if (!t && e && e.__esModule) return e;
    var o,
      i,
      f = {
        __proto__: null,
        default: e
      };
    if (null === e || "object" != typeof e && "function" != typeof e) return f;
    if (o = t ? n : r) {
      if (o.has(e)) return o.get(e);
      o.set(e, f);
    }
    for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]);
    return f;
  })(e, t);
}
var DIALOG_ELEVATION = 24;
var Dialog = function Dialog(_ref) {
  var children = _ref.children,
    _ref$dismissable = _ref.dismissable,
    dismissable = _ref$dismissable === void 0 ? true : _ref$dismissable,
    _ref$dismissableBackB = _ref.dismissableBackButton,
    dismissableBackButton = _ref$dismissableBackB === void 0 ? dismissable : _ref$dismissableBackB,
    onDismiss = _ref.onDismiss,
    _ref$visible = _ref.visible,
    visible = _ref$visible === void 0 ? false : _ref$visible,
    style = _ref.style,
    themeOverrides = _ref.theme,
    testID = _ref.testID;
  var _ref2 = (0, _reactNativeSafeAreaContext.useSafeAreaInsets)(),
    right = _ref2.right,
    left = _ref2.left;
  var theme = (0, _theming.useInternalTheme)(themeOverrides);
  var isV3 = theme.isV3,
    dark = theme.dark,
    mode = theme.mode,
    colors = theme.colors,
    roundness = theme.roundness;
  var borderRadius = (isV3 ? 7 : 1) * roundness;
  var backgroundColorV2 = dark && mode === 'adaptive' ? (0, _overlay.default)(DIALOG_ELEVATION, colors === null || colors === void 0 ? void 0 : colors.surface) : colors === null || colors === void 0 ? void 0 : colors.surface;
  var backgroundColor = isV3 ? theme.colors.elevation.level3 : backgroundColorV2;
  return React.createElement(_Modal.default, {
    dismissable: dismissable,
    dismissableBackButton: dismissableBackButton,
    onDismiss: onDismiss,
    visible: visible,
    contentContainerStyle: [{
      borderRadius: borderRadius,
      backgroundColor: backgroundColor,
      marginHorizontal: Math.max(left, right, 26)
    }, styles.container, style],
    theme: theme,
    testID: testID
  }, React.Children.toArray(children).filter(function (child) {
    return child != null && typeof child !== 'boolean';
  }).map(function (child, i) {
    if (isV3) {
      if (i === 0 && React.isValidElement(child)) {
        return React.cloneElement(child, {
          style: [{
            marginTop: 24
          }, child.props.style]
        });
      }
    }
    if (i === 0 && React.isValidElement(child) && child.type === _DialogContent.default) {
      return React.cloneElement(child, {
        style: [{
          paddingTop: 24
        }, child.props.style]
      });
    }
    return child;
  }));
};
Dialog.Content = _DialogContent.default;
Dialog.Actions = _DialogActions.default;
Dialog.Title = _DialogTitle.default;
Dialog.ScrollArea = _DialogScrollArea.default;
Dialog.Icon = _DialogIcon.default;
var styles = _reactNative.StyleSheet.create({
  container: {
    marginVertical: _reactNative.Platform.OS === 'android' ? 44 : 0,
    elevation: DIALOG_ELEVATION,
    justifyContent: 'flex-start'
  }
});
var _default = exports.default = Dialog;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZVNhZmVBcmVhQ29udGV4dCIsIl9EaWFsb2dBY3Rpb25zIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9EaWFsb2dDb250ZW50IiwiX0RpYWxvZ0ljb24iLCJfRGlhbG9nU2Nyb2xsQXJlYSIsIl9EaWFsb2dUaXRsZSIsIl90aGVtaW5nIiwiX292ZXJsYXkiLCJfTW9kYWwiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiaGFzIiwiZ2V0Iiwic2V0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJESUFMT0dfRUxFVkFUSU9OIiwiRGlhbG9nIiwiX3JlZiIsImNoaWxkcmVuIiwiX3JlZiRkaXNtaXNzYWJsZSIsImRpc21pc3NhYmxlIiwiX3JlZiRkaXNtaXNzYWJsZUJhY2tCIiwiZGlzbWlzc2FibGVCYWNrQnV0dG9uIiwib25EaXNtaXNzIiwiX3JlZiR2aXNpYmxlIiwidmlzaWJsZSIsInN0eWxlIiwidGhlbWVPdmVycmlkZXMiLCJ0aGVtZSIsInRlc3RJRCIsIl9yZWYyIiwidXNlU2FmZUFyZWFJbnNldHMiLCJyaWdodCIsImxlZnQiLCJ1c2VJbnRlcm5hbFRoZW1lIiwiaXNWMyIsImRhcmsiLCJtb2RlIiwiY29sb3JzIiwicm91bmRuZXNzIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yVjIiLCJzdXJmYWNlIiwiYmFja2dyb3VuZENvbG9yIiwiZWxldmF0aW9uIiwibGV2ZWwzIiwiY3JlYXRlRWxlbWVudCIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsIm1hcmdpbkhvcml6b250YWwiLCJNYXRoIiwibWF4Iiwic3R5bGVzIiwiY29udGFpbmVyIiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiZmlsdGVyIiwiY2hpbGQiLCJtYXAiLCJpc1ZhbGlkRWxlbWVudCIsImNsb25lRWxlbWVudCIsIm1hcmdpblRvcCIsInByb3BzIiwidHlwZSIsInBhZGRpbmdUb3AiLCJDb250ZW50IiwiQWN0aW9ucyIsIlRpdGxlIiwiU2Nyb2xsQXJlYSIsIkljb24iLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwibWFyZ2luVmVydGljYWwiLCJQbGF0Zm9ybSIsIk9TIiwianVzdGlmeUNvbnRlbnQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9EaWFsb2cvRGlhbG9nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBUUEsSUFBQUUsMkJBQUEsR0FBQUYsT0FBQTtBQUVBLElBQUFHLGNBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFLLGNBQUEsR0FBQUQsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFNLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUosT0FBQTtBQUNBLElBQUFPLGlCQUFBLEdBQUFILHNCQUFBLENBQUFKLE9BQUE7QUFDQSxJQUFBUSxZQUFBLEdBQUFKLHNCQUFBLENBQUFKLE9BQUE7QUFDQSxJQUFBUyxRQUFBLEdBQUFULE9BQUE7QUFDQSxJQUFBVSxRQUFBLEdBQUFOLHNCQUFBLENBQUFKLE9BQUE7QUFFQSxJQUFBVyxNQUFBLEdBQUFQLHNCQUFBLENBQUFKLE9BQUE7QUFBNkIsU0FBQUksdUJBQUFRLENBQUE7RUFBQSxPQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBO0lBQUFFLE9BQUEsRUFBQUY7RUFBQTtBQUFBO0FBQUEsU0FBQWIsd0JBQUFhLENBQUEsRUFBQUcsQ0FBQTtFQUFBLHlC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